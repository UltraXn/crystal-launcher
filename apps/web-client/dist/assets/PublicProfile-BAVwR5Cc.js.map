{"version":3,"file":"PublicProfile-BAVwR5Cc.js","sources":["../../src/services/profileCommentService.ts","../../src/components/User/ProfileWall.tsx","../../src/components/User/SkinViewer.tsx","../../src/components/User/ProfileHeader.tsx","../../src/components/User/PlayerStatsGrid.tsx","../../src/pages/PublicProfile.tsx"],"sourcesContent":["import { supabase } from './supabaseClient'\r\n\r\nexport interface ProfileComment {\r\n    id: number;\r\n    content: string;\r\n    created_at: string;\r\n    author_id: string;\r\n    author?: {\r\n        username: string;\r\n        avatar_url: string;\r\n        role: string;\r\n        metadata?: Record<string, unknown>;\r\n        social_avatar_url?: string;\r\n        avatar_preference?: string;\r\n        minecraft_nick?: string;\r\n        status_message?: string;\r\n        full_name?: string;\r\n        discord_tag?: string;\r\n    };\r\n}\r\n\r\nexport const getProfileComments = async (profileId: string): Promise<ProfileComment[]> => {\r\n    const { data, error } = await supabase\r\n        .from('profile_comments')\r\n        .select(`\r\n            *,\r\n            author:profiles!author_id (\r\n                username,\r\n                avatar_url,\r\n                role,\r\n                social_avatar_url,\r\n                avatar_preference,\r\n                minecraft_nick,\r\n                status_message,\r\n                full_name,\r\n                discord_tag\r\n            )\r\n        `)\r\n        .eq('profile_id', profileId)\r\n        .order('created_at', { ascending: false })\r\n\r\n    if (error) throw error\r\n    return data || []\r\n}\r\n\r\nexport const postProfileComment = async (profileId: string, content: string): Promise<ProfileComment> => {\r\n    const { data: { session } } = await supabase.auth.getSession()\r\n    if (!session) throw new Error(\"Not authenticated\")\r\n\r\n    const { data, error } = await supabase\r\n        .from('profile_comments')\r\n        .insert({\r\n            profile_id: profileId,\r\n            author_id: session.user.id,\r\n            content\r\n        })\r\n        .select(`\r\n            *,\r\n            author:profiles!author_id (\r\n                username,\r\n                avatar_url,\r\n                role,\r\n                social_avatar_url,\r\n                avatar_preference,\r\n                minecraft_nick,\r\n                status_message,\r\n                full_name,\r\n                discord_tag\r\n            )\r\n        `)\r\n        .single()\r\n\r\n    if (error) throw error\r\n    return data\r\n}\r\n\r\nexport const deleteProfileComment = async (commentId: number): Promise<void> => {\r\n    const { error } = await supabase\r\n        .from('profile_comments')\r\n        .delete()\r\n        .eq('id', commentId)\r\n\r\n    if (error) throw error\r\n}\r\n","import { useState, useEffect } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { Trash2, Send, MessageCircle } from \"lucide-react\"\r\nimport { useAuth } from \"../../context/AuthContext\"\r\nimport { getProfileComments, postProfileComment, deleteProfileComment, ProfileComment } from \"../../services/profileCommentService\"\r\nimport Loader from \"../UI/Loader\"\r\n\r\nimport ConfirmationModal from \"../UI/ConfirmationModal\"\r\n\r\ninterface ProfileWallProps {\r\n    profileId: string; // The UUID of the profile owner\r\n    isAdmin?: boolean;\r\n    mockComments?: ProfileComment[];\r\n}\r\n\r\nconst RANK_IMAGES: Record<string, string> = {\r\n    'admin': '/ranks/admin.png',\r\n    'developer': '/ranks/developer.png',\r\n    'moderator': '/ranks/moderator.png',\r\n    'helper': '/ranks/helper.png',\r\n    'staff': '/ranks/staff.png',\r\n    'donador': '/ranks/rank-donador.png',\r\n    'fundador': '/ranks/rank-fundador.png',\r\n    'killu': '/ranks/rank-killu.png',\r\n    'neroferno': '/ranks/rank-neroferno.png',\r\n    'user': '/ranks/user.png',\r\n};\r\n\r\nexport default function ProfileWall({ profileId, isAdmin, mockComments }: ProfileWallProps) {\r\n    const { t } = useTranslation()\r\n    const { user } = useAuth()\r\n    const [comments, setComments] = useState<ProfileComment[]>([])\r\n    const [newComment, setNewComment] = useState(\"\")\r\n    const [loading, setLoading] = useState(true)\r\n    const [sending, setSending] = useState(false)\r\n    \r\n    // Deletion State\r\n    const [deleteCommentId, setDeleteCommentId] = useState<number | null>(null)\r\n    const [isDeleting, setIsDeleting] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (mockComments) {\r\n            setComments(mockComments);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const fetchComments = async () => {\r\n            try {\r\n                const data = await getProfileComments(profileId)\r\n                setComments(data)\r\n            } catch (error) {\r\n                console.error(\"Error loading wall comments:\", error)\r\n            } finally {\r\n                setLoading(false)\r\n            }\r\n        }\r\n        if (profileId) fetchComments()\r\n    }, [profileId, mockComments])\r\n\r\n    const handlePostComment = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        if (!user || !newComment.trim() || sending) return\r\n\r\n        setSending(true)\r\n        try {\r\n            const comment = await postProfileComment(profileId, newComment)\r\n            setComments(prev => [comment, ...prev])\r\n            setNewComment(\"\")\r\n        } catch (error) {\r\n            console.error(\"Error posting comment:\", error)\r\n        } finally {\r\n            setSending(false)\r\n        }\r\n    }\r\n\r\n    const handleDeleteClick = (id: number) => {\r\n        setDeleteCommentId(id);\r\n    };\r\n\r\n    const confirmDelete = async () => {\r\n        if (!deleteCommentId) return;\r\n        setIsDeleting(true);\r\n        try {\r\n            await deleteProfileComment(deleteCommentId)\r\n            setComments(prev => prev.filter(c => c.id !== deleteCommentId))\r\n            setDeleteCommentId(null)\r\n        } catch (error) {\r\n            console.error(\"Error deleting comment:\", error)\r\n        } finally {\r\n            setIsDeleting(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl\">\r\n            <h3 className=\"flex items-center gap-3 text-xl font-black uppercase tracking-widest text-white mb-6 border-b border-white/5 pb-4\">\r\n                <MessageCircle className=\"text-(--accent)\" /> {t('profile.wall.title', 'Muro de Comentarios')}\r\n            </h3>\r\n\r\n            {/* Input Form */}\r\n            {user ? (\r\n                <form onSubmit={handlePostComment} className=\"mb-8 relative\">\r\n                    <div className=\"relative group/input\">\r\n                        <textarea\r\n                            value={newComment}\r\n                            onChange={(e) => setNewComment(e.target.value)}\r\n                            placeholder={t('profile.wall.placeholder', 'Escribe algo en este muro...')}\r\n                            maxLength={500}\r\n                            className=\"w-full bg-black/20 border border-white/5 rounded-2xl p-4 text-sm font-medium text-white placeholder:text-gray-600 focus:outline-none focus:border-(--accent)/30 transition-all min-h-[120px] resize-none scrollbar-thin scrollbar-thumb-white/10\"\r\n                        />\r\n                        <div className=\"absolute bottom-4 right-4 text-[10px] font-black text-gray-700 bg-black/40 px-2 py-1 rounded-lg backdrop-blur-md\">\r\n                            {newComment.length}/500\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex justify-end mt-4\">\r\n                        <button \r\n                            type=\"submit\" \r\n                            disabled={!newComment.trim() || sending}\r\n                            className=\"flex items-center gap-2 px-6 py-3 bg-white text-black rounded-xl text-xs font-black uppercase tracking-widest hover:bg-(--accent) hover:scale-105 active:scale-95 transition-all shadow-lg shadow-black/20 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-white\"\r\n                        >\r\n                            {sending ? <Loader minimal /> : <><Send size={16} /> {t('profile.wall.post', 'Publicar')}</>}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            ) : (\r\n                <div className=\"p-8 bg-black/20 border border-white/5 rounded-2xl text-center mb-8 border-dashed\">\r\n                    <p className=\"text-gray-500 font-bold text-sm\">\r\n                        {t('profile.wall.login_required', 'Inicia sesi칩n para dejar un comentario.')}\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Comments List */}\r\n            <div className=\"space-y-4\">\r\n                {loading ? (\r\n                    <div className=\"flex flex-col items-center justify-center py-12\">\r\n                        <Loader text={t('common.loading')} />\r\n                    </div>\r\n                ) : comments.length === 0 ? (\r\n                    <div className=\"text-center py-12 px-6 bg-black/20 rounded-2xl border border-white/5\">\r\n                        <div className=\"text-4xl mb-4 opacity-20\">游눫</div>\r\n                        <p className=\"text-gray-500 font-bold italic\">\r\n                            {t('profile.wall.empty', 'A칰n no hay mensajes. 춰S칠 el primero!')}\r\n                        </p>\r\n                    </div>\r\n                ) : (\r\n                    <AnimatePresence>\r\n                        {comments.map((comment) => (\r\n\r\n                            <motion.div\r\n                                key={comment.id}\r\n                                initial={{ opacity: 0, y: 20 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                exit={{ opacity: 0, scale: 0.95 }}\r\n                                className=\"relative bg-black/20 border border-white/5 rounded-2xl p-6 hover:bg-black/30 transition-colors group\"\r\n                            >\r\n                                {(() => {\r\n                                    // Use local user data if it's my own comment (to ensure settings are up-to-date)\r\n                                    const isMe = user?.id === comment.author_id;\r\n                                    \r\n                                    interface AuthorMetadata {\r\n                                        avatar_preference?: string;\r\n                                        minecraft_nick?: string;\r\n                                        status_message?: string;\r\n                                        full_name?: string;\r\n                                        username?: string;\r\n                                        discord_tag?: string;\r\n                                    }\r\n\r\n                                    const authorMetadata = (isMe \r\n                                        ? user?.user_metadata \r\n                                        : comment.author) as AuthorMetadata | undefined;\r\n                                    \r\n                                    const pref = (authorMetadata?.avatar_preference as string) || 'minecraft';\r\n                                    const mcNick = (authorMetadata?.minecraft_nick as string) || '';\r\n                                    const statusMessage = (authorMetadata?.status_message as string) || '';\r\n                                    const discordTag = (authorMetadata?.discord_tag as string) || '';\r\n\r\n                                    const useMinecraft = pref === 'minecraft' && mcNick;\r\n\r\n                                    const displayAvatar = useMinecraft \r\n                                        ? `https://mc-heads.net/avatar/${mcNick}/128`\r\n                                        : (isMe \r\n                                            ? ((user?.user_metadata?.picture || user?.user_metadata?.avatar_url || comment.author?.avatar_url) as string)\r\n                                            : ((comment.author?.social_avatar_url || comment.author?.avatar_url) as string));\r\n\r\n                                    const displayName = String((useMinecraft && mcNick)\r\n                                        ? mcNick \r\n                                        : (authorMetadata?.full_name || authorMetadata?.username || comment.author?.username || t('common.anonymous', 'An칩nimo')));\r\n\r\n                                    const roleRaw = isMe ? user?.user_metadata?.role : comment.author?.role;\r\n                                    const role = String(roleRaw || 'user').toLowerCase();\r\n                                    const roleImage = RANK_IMAGES[role] || (role.includes('donador') ? RANK_IMAGES['donador'] : RANK_IMAGES['user']);\r\n\r\n                                    return (\r\n                                        <div className=\"flex gap-4\">\r\n                                            {/* Author Avatar & Info with Tooltip */}\r\n                                            <div className=\"shrink-0 group/author relative\">\r\n                                                {/* Avatar Display */}\r\n                                                <div className=\"cursor-pointer\">\r\n                                                    {displayAvatar ? (\r\n                                                        <img \r\n                                                            src={displayAvatar} \r\n                                                            alt={displayName} \r\n                                                            className=\"w-12 h-12 rounded-xl object-cover border border-white/10 shadow-lg\"\r\n                                                        />\r\n                                                    ) : (\r\n                                                        <div className=\"w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-white/20\">\r\n                                                            <MessageCircle className=\"w-6 h-6\" />\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n\r\n                                                {/* Tooltip implementation ... */}\r\n                                                <div className=\"absolute bottom-full left-0 mb-3 opacity-0 group-hover/author:opacity-100 transition-opacity duration-200 pointer-events-none z-50 w-64 bg-[#0a0a0a]/95 border border-white/10 rounded-xl shadow-2xl backdrop-blur-xl p-4 translate-y-2 group-hover/author:translate-y-0\">\r\n                                                    <div className=\"flex items-center gap-3 mb-3 border-b border-white/5 pb-3\">\r\n                                                        <img src={displayAvatar || `https://ui-avatars.com/api/?name=${displayName}`} className=\"w-10 h-10 rounded-lg shadow-inner\" alt=\"Avatar\" />\r\n                                                        <div>\r\n                                                            <p className=\"font-bold text-white text-sm leading-tight\">{displayName}</p>\r\n                                                            {statusMessage && (\r\n                                                                <p className=\"text-[10px] text-gray-400 italic mt-0.5 line-clamp-2\">\"{statusMessage}\"</p>\r\n                                                            )}\r\n                                                            <img src={roleImage} alt={role} className=\"h-4 mt-1 object-contain object-left\" />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    \r\n                                                    <div className=\"space-y-2 text-xs text-gray-400\">\r\n                                                        {mcNick && (\r\n                                                            <div className=\"flex items-center justify-between\">\r\n                                                                <span className=\"font-bold uppercase tracking-wider text-[10px] opacity-70\">Minecraft</span>\r\n                                                                <span className=\"text-white font-mono\">{mcNick}</span>\r\n                                                            </div>\r\n                                                        )}\r\n                                                        {discordTag && (\r\n                                                            <div className=\"flex items-center justify-between\">\r\n                                                                <span className=\"font-bold uppercase tracking-wider text-[10px] opacity-70\">Discord</span>\r\n                                                                <span className=\"text-indigo-300\">{discordTag}</span>\r\n                                                            </div>\r\n                                                        )}\r\n                                                        <div className=\"flex items-center justify-between\">\r\n                                                            <span className=\"font-bold uppercase tracking-wider text-[10px] opacity-70\">Rol</span>\r\n                                                            <span className=\"text-white capitalize\">{role}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* Comment Content */}\r\n                                            <div className=\"flex-1 min-w-0\">\r\n                                                <div className=\"flex justify-between items-start mb-2\">\r\n                                                    <div className=\"flex items-center gap-3 flex-wrap\">\r\n                                                        <span className=\"font-black text-white text-sm tracking-wide hover:text-(--accent) cursor-pointer transition-colors\">\r\n                                                            {displayName}\r\n                                                        </span>\r\n                                                        <img \r\n                                                            src={roleImage} \r\n                                                            alt={role} \r\n                                                            className=\"h-5 object-contain select-none\"\r\n                                                            onError={(e) => {\r\n                                                                e.currentTarget.style.display = 'none';\r\n                                                            }}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <span className=\"text-[10px] font-bold text-gray-600 uppercase tracking-widest bg-black/20 px-2 py-1 rounded-lg\">\r\n                                                        {new Date(comment.created_at).toLocaleDateString()}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap wrap-break-word font-medium\">\r\n                                                    {comment.content}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })()}\r\n\r\n                                {/* Actions */}\r\n                                {(isAdmin || user?.id === comment.author_id || user?.id === profileId) && (\r\n                                    <button \r\n                                        onClick={() => handleDeleteClick(comment.id)}\r\n                                        className=\"absolute top-4 right-4 p-2 text-gray-600 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all opacity-0 group-hover:opacity-100\"\r\n                                        title={t('common.delete', 'Eliminar')}\r\n                                    >\r\n                                        <Trash2 size={12} />\r\n                                    </button>\r\n                                )}\r\n                            </motion.div>\r\n                        ))}\r\n                    </AnimatePresence>\r\n                )}\r\n            </div>\r\n\r\n            <ConfirmationModal\r\n                isOpen={!!deleteCommentId}\r\n                onClose={() => !isDeleting && setDeleteCommentId(null)}\r\n                onConfirm={confirmDelete}\r\n                isLoading={isDeleting}\r\n                title={t('common.confirm_delete_title', 'Confirmar eliminaci칩n')}\r\n                message={t('common.confirm_delete_msg', '쮼st치s seguro de que deseas eliminar este comentario? Esta acci칩n no se puede deshacer.')}\r\n                confirmText={t('common.delete', 'Eliminar')}\r\n                cancelText={t('common.cancel', 'Cancelar')}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import { ReactSkinview3d } from 'react-skinview3d';\r\nimport { IdleAnimation, WalkingAnimation, RunningAnimation, FlyingAnimation, SkinViewer as SkinView3DViewer } from 'skinview3d';\r\n\r\ninterface SkinViewerProps {\r\n    username: string;\r\n    width?: number;\r\n    height?: number;\r\n    animation?: 'idle' | 'walk' | 'run' | 'fly';\r\n    capeUrl?: string;\r\n}\r\n\r\nexport default function SkinViewer({ \r\n    username, \r\n    width = 300, \r\n    height = 400, \r\n    animation = 'idle',\r\n    capeUrl\r\n}: SkinViewerProps) {\r\n    const skinUrl = `https://mc-heads.net/skin/${username}`;\r\n    \r\n    // Map animation string to skinview3d animation class\r\n    const getAnimation = () => {\r\n        switch (animation) {\r\n            case 'walk': return WalkingAnimation;\r\n            case 'run': return RunningAnimation;\r\n            case 'fly': return FlyingAnimation;\r\n            default: return IdleAnimation;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"skin-viewer-container\" style={{ cursor: 'grab' }}>\r\n            <ReactSkinview3d\r\n                skinUrl={skinUrl}\r\n                capeUrl={capeUrl}\r\n                height={height}\r\n                width={width}\r\n                onReady={({ viewer }: { viewer: SkinView3DViewer }) => {\r\n                    viewer.animation = new (getAnimation())();\r\n                    viewer.controls.enableZoom = false;\r\n                    viewer.autoRotate = true;\r\n                    viewer.autoRotateSpeed = 0.5;\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import { motion } from \"framer-motion\"\r\nimport { Heart, Plus } from \"lucide-react\"\r\nimport RoleBadge from \"./RoleBadge\"\r\nimport { useTranslation } from \"react-i18next\"\r\n\r\ninterface Profile {\r\n    id: string;\r\n    username: string;\r\n    avatar_url?: string;\r\n    profile_banner_url?: string;\r\n    role: string;\r\n    reputation?: number;\r\n    avatar_preference?: 'minecraft' | 'social';\r\n    status_message?: string;\r\n    full_name?: string;\r\n    social_avatar_url?: string;\r\n    minecraft_nick?: string;\r\n}\r\n\r\ninterface User {\r\n    id: string;\r\n    user_metadata?: {\r\n        full_name?: string;\r\n        username?: string;\r\n        status_message?: string;\r\n    };\r\n}\r\n\r\ninterface ProfileHeaderProps {\r\n    profile: Profile;\r\n    currentUser: User | null;\r\n    onGiveKarma: () => void;\r\n    givingKarma: boolean;\r\n}\r\n\r\nexport default function ProfileHeader({ profile, currentUser, onGiveKarma, givingKarma }: ProfileHeaderProps) {\r\n    const { t } = useTranslation()\r\n\r\n    // Determine display name\r\n    // 1. If viewing own profile, verify local metadata to ensure freshness\r\n    // 2. If viewing others, rely on profile data\r\n    // 3. Logic: If preference is Social and full_name exists, use it. Else Username.\r\n    const displayName = (() => {\r\n        const pref = profile.avatar_preference || 'minecraft';\r\n        const useMinecraft = pref === 'minecraft';\r\n        const mcNick = profile.minecraft_nick || profile.username;\r\n\r\n        if (useMinecraft) return mcNick;\r\n        return profile.full_name || profile.username;\r\n    })();\r\n\r\n    return (\r\n        <div className=\"profile-header-premium\">\r\n             <style>{`\r\n                /* Premium Header & Banner */\r\n                .profile-header-premium {\r\n                    width: 100%;\r\n                    height: 350px;\r\n                    position: relative;\r\n                    overflow: visible;\r\n                    background: #0a0a0a;\r\n                    margin-bottom: 4rem;\r\n                }\r\n                .profile-banner {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    object-fit: cover;\r\n                    mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 70%, rgba(0,0,0,0));\r\n                    opacity: 0.6;\r\n                }\r\n                .profile-banner-placeholder {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    background: linear-gradient(45deg, #111 25%, #1a1a1a 50%, #111 75%);\r\n                    background-size: 200% 200%;\r\n                    animation: gradient-shift 10s ease infinite;\r\n                    mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 70%, rgba(0,0,0,0));\r\n                }\r\n                @keyframes gradient-shift {\r\n                    0% { background-position: 0% 50% }\r\n                    50% { background-position: 100% 50% }\r\n                    100% { background-position: 0% 50% }\r\n                }\r\n\r\n                /* Floating Avatar Info */\r\n                .profile-header-content {\r\n                    position: absolute;\r\n                    bottom: -30px;\r\n                    left: 50%;\r\n                    transform: translateX(-50%);\r\n                    width: 100%;\r\n                    max-width: 1200px;\r\n                    padding: 0 2rem;\r\n                    display: flex;\r\n                    align-items: flex-end;\r\n                    gap: 2rem;\r\n                }\r\n                .profile-avatar-wrapper {\r\n                    position: relative;\r\n                    flex-shrink: 0;\r\n                }\r\n                .profile-avatar-premium {\r\n                    width: 180px;\r\n                    height: 180px;\r\n                    border-radius: 50%;\r\n                    border: 6px solid #050505;\r\n                    background: #111;\r\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.6);\r\n                    object-fit: cover;\r\n                }\r\n                .profile-info-floating {\r\n                    padding-bottom: 20px;\r\n                }\r\n                .profile-info-floating h1 {\r\n                    font-size: 3rem;\r\n                    font-weight: 900;\r\n                    margin: 0;\r\n                    letter-spacing: -1px;\r\n                    text-shadow: 0 4px 20px rgba(0,0,0,0.8);\r\n                }\r\n\r\n                 @media (max-width: 900px) {\r\n                    .profile-header-content {\r\n                        flex-direction: column;\r\n                        align-items: center;\r\n                        text-align: center;\r\n                        bottom: -150px;\r\n                    }\r\n                    .profile-header-premium {\r\n                        margin-bottom: 11rem;\r\n                    }\r\n                    .profile-info-floating h1 {\r\n                        font-size: 2.2rem;\r\n                    }\r\n                }\r\n            `}</style>\r\n            \r\n            {profile.profile_banner_url ? (\r\n                <img src={profile.profile_banner_url} alt=\"Banner\" className=\"profile-banner\" />\r\n            ) : (\r\n                <div className=\"profile-banner-placeholder\" />\r\n            )}\r\n            \r\n            <div className=\"profile-header-content\">\r\n                <div className=\"profile-avatar-wrapper\">\r\n                    <img \r\n                        src={\r\n                            (profile.avatar_preference === 'social') \r\n                                ? (profile.social_avatar_url || profile.avatar_url || `https://ui-avatars.com/api/?name=${displayName}`) \r\n                                : `https://mc-heads.net/avatar/${profile.username}/180`\r\n                        } \r\n                        alt={profile.username}\r\n                        className=\"profile-avatar-premium\"\r\n                    />\r\n                </div>\r\n                <div className=\"profile-info-floating\">\r\n                    <motion.div\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                    >\r\n                        <RoleBadge role={profile.role} username={profile.username} />\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '1.5rem' }}>\r\n                            <h1>{displayName}</h1>\r\n                            <div style={{ \r\n                                display: 'flex', \r\n                                alignItems: 'center', \r\n                                gap: '0.5rem', \r\n                                background: 'rgba(255,255,255,0.05)',\r\n                                padding: '0.4rem 0.8rem',\r\n                                borderRadius: '12px',\r\n                                border: '1px solid rgba(255,255,255,0.1)',\r\n                                backdropFilter: 'blur(10px)'\r\n                            }}>\r\n                                <Heart style={{ color: '#ff4444' }} size={16} />\r\n                                <span style={{ fontWeight: 800 }}>{profile.reputation || 0}</span>\r\n                                {currentUser && currentUser.id !== profile.id && (\r\n                                    <button \r\n                                        onClick={onGiveKarma}\r\n                                        disabled={givingKarma}\r\n                                        style={{ \r\n                                            background: 'none', \r\n                                            border: 'none', \r\n                                            color: '#ff4444', \r\n                                            cursor: 'pointer',\r\n                                            padding: '0.2rem',\r\n                                            display: 'flex',\r\n                                            opacity: givingKarma ? 0.5 : 1\r\n                                        }}\r\n                                        title={t('profile.give_karma')}\r\n                                    >\r\n                                        <Plus size={14} />\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        \r\n\t\t\t\t\t\t{(() => {\r\n                             // Status Message Logic\r\n                             const statusMsg = currentUser?.id === profile.id \r\n                                ? (currentUser.user_metadata?.status_message || profile.status_message)\r\n                                : profile.status_message;\r\n\r\n                             if (!statusMsg) return null;\r\n\r\n                             return (\r\n                                <motion.div \r\n                                    initial={{ opacity: 0, y: 5, scale: 0.95 }}\r\n                                    animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                                    transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n                                    className=\"mt-3 inline-flex relative\"\r\n                                >\r\n                                    <div className=\"bg-[#111] border border-white/10 px-4 py-2.5 rounded-2xl shadow-[0_4px_20px_rgba(0,0,0,0.5)] backdrop-blur-md\">\r\n                                        <p className=\"text-sm font-medium text-gray-300 flex items-center gap-2\">\r\n                                            <span className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-[0_0_10px_#22c55e]\" />\r\n                                            \"{statusMsg}\"\r\n                                        </p>\r\n                                    </div>\r\n                                </motion.div>\r\n                             );\r\n                        })()}\r\n                    </motion.div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { Trophy } from \"lucide-react\"\r\nimport Loader from \"../UI/Loader\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport PlaystyleRadar from \"../Account/PlaystyleRadarFinal\"\r\n\r\ninterface PlayerStats {\r\n    playtime: string;\r\n    kills: number;\r\n    mob_kills: number;\r\n    deaths: number;\r\n    money: string;\r\n    blocks_mined: string;\r\n    blocks_placed: string;\r\n    rank?: string;\r\n}\r\n\r\ninterface PlayerStatsGridProps {\r\n    stats: PlayerStats | null;\r\n    loading: boolean;\r\n    isPublic: boolean;\r\n    isAdmin: boolean;\r\n}\r\n\r\nexport default function PlayerStatsGrid({ stats, loading, isPublic, isAdmin }: PlayerStatsGridProps) {\r\n    const { t } = useTranslation()\r\n\r\n    // Helper to parse playtime \"12h 30m\"\r\n    const parsePlaytime = (ptStr: string): number => {\r\n        if (!ptStr) return 0;\r\n        const h = parseInt(ptStr.match(/(\\d+)h/)?.[1] || \"0\");\r\n        const m = parseInt(ptStr.match(/(\\d+)m/)?.[1] || \"0\");\r\n        return h + m / 60;\r\n    }\r\n\r\n    const parseMoney = (moneyStr: string): number => {\r\n        if (!moneyStr) return 0;\r\n        return parseFloat(moneyStr.replace(/[^0-9.-]+/g, \"\"));\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-3xl p-8 shadow-xl transition-all hover:border-white/20 hover:shadow-2xl\">\r\n            <h3 className=\"flex items-center gap-3 text-sm font-black uppercase tracking-widest text-white/40 mb-6\">\r\n                <Trophy size={16} /> {t('profile.playstyle_title', 'Gr치fico de Estilo')}\r\n            </h3>\r\n            \r\n            {(isPublic || isAdmin) ? (\r\n                <div className=\"flex flex-col items-center\">\r\n                    {loading ? (\r\n                        <div className=\"py-12\"><Loader text={t('profile.loading_stats')} /></div>\r\n                    ) : stats ? (\r\n                        <>\r\n                            <div className=\"w-full relative z-10\">\r\n                                <PlaystyleRadar \r\n                                    stats={{\r\n                                        blocksPlaced: Number(stats.blocks_placed || 0),\r\n                                        blocksMined: Number(stats.blocks_mined || 0),\r\n                                        kills: Number(stats.kills || 0),\r\n                                        mobKills: Number(stats.mob_kills || 0),\r\n                                        playtimeHours: parsePlaytime(stats.playtime),\r\n                                        money: parseMoney(stats.money),\r\n                                        rank: stats.rank || \"default\"\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            \r\n\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"text-center py-8 text-gray-500 font-bold text-xs italic\">\r\n                            {t('profile.error_stats', 'No se pudieron cargar los datos de estilo.')}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            ) : (\r\n                 <div className=\"text-center py-12 px-6 bg-black/20 rounded-2xl border border-dashed border-white/5\">\r\n                    <div className=\"text-2xl mb-2 opacity-30\">游</div>\r\n                    <p className=\"text-gray-500 font-bold text-xs\">\r\n                        {t('profile.private_stats', 'Este usuario mantiene su estilo de juego en privado.')}\r\n                    </p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect } from \"react\"\r\nimport { useParams, useNavigate } from \"react-router-dom\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { motion } from \"framer-motion\"\r\nimport { User, Medal, Gamepad2, Home, Twitter, Twitch, Youtube } from \"lucide-react\"\r\nimport Loader from \"../components/UI/Loader\"\r\nimport { MEDAL_ICONS } from \"../utils/MedalIcons\"\r\nimport MarkdownRenderer from \"../components/UI/MarkdownRenderer\"\r\nimport ProfileWall from \"../components/User/ProfileWall\"\r\nimport SkinViewer from \"../components/User/SkinViewer\"\r\nimport { useAuth } from \"../context/AuthContext\"\r\nimport { isAdmin as checkIsAdmin } from \"../utils/roleUtils\"\r\nimport { supabase } from \"../services/supabaseClient\"\r\nimport Toast, { ToastType } from \"../components/UI/Toast\"\r\nimport ProfileHeader from \"../components/User/ProfileHeader\"\r\nimport PlayerStatsGrid from \"../components/User/PlayerStatsGrid\"\r\n\r\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3001/api';\r\n\r\ninterface MedalDefinition {\r\n    id: string | number;\r\n    name: string;\r\n    description: string;\r\n    icon: string;\r\n    color: string;\r\n    image_url?: string;\r\n    name_en?: string;\r\n    description_en?: string;\r\n}\r\n\r\ninterface Profile {\r\n    id: string;\r\n    username: string;\r\n    avatar_url?: string;\r\n    profile_banner_url?: string;\r\n    role: string;\r\n    created_at: string;\r\n    medals?: (string | number)[];\r\n    public_stats: boolean;\r\n    bio?: string;\r\n    social_discord?: string;\r\n    social_twitter?: string;\r\n    social_twitch?: string;\r\n    social_youtube?: string;\r\n    minecraft_uuid?: string;\r\n    minecraft_nick?: string;\r\n    original_username?: string;\r\n    avatar_preference?: 'minecraft' | 'social';\r\n    reputation?: number;\r\n    status_message?: string;\r\n    full_name?: string;\r\n}\r\n\r\ninterface PlayerStats {\r\n    playtime: string;\r\n    kills: number;\r\n    mob_kills: number;\r\n    deaths: number;\r\n    money: string;\r\n    blocks_mined: string;\r\n    blocks_placed: string;\r\n}\r\n\r\n// LinkDiscordForm was here, removed as it belongs more to Account settings.\r\n\r\nexport default function PublicProfile() {\r\n    const { username } = useParams()\r\n    const navigate = useNavigate()\r\n    const { t, i18n } = useTranslation()\r\n    const { user: currentUser } = useAuth()\r\n    \r\n    \r\n    const isAdmin = checkIsAdmin(currentUser)\r\n\r\n    \r\n    const [profile, setProfile] = useState<Profile | null>(null)\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState<string | null>(null)\r\n    const [medalDefinitions, setMedalDefinitions] = useState<MedalDefinition[]>([])\r\n    const [playerStats, setPlayerStats] = useState<PlayerStats | null>(null)\r\n    const [statsLoading, setStatsLoading] = useState(false)\r\n    const [givingKarma, setGivingKarma] = useState(false)\r\n    const [toast, setToast] = useState<{ visible: boolean; message: string; type: ToastType }>({\r\n        visible: false,\r\n        message: '',\r\n        type: 'info'\r\n    })\r\n\r\n    const showToast = (message: string, type: ToastType = 'info') => {\r\n        setToast({ visible: true, message, type })\r\n    }\r\n\r\n    const handleGiveKarma = async () => {\r\n        if (!currentUser || !profile) return;\r\n        if (currentUser.id === profile.id) return;\r\n        \r\n        setGivingKarma(true);\r\n        try {\r\n            const res = await fetch(`${API_URL}/users/${profile.id}/karma`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${(await supabase.auth.getSession()).data.session?.access_token}`\r\n                }\r\n            });\r\n            if (!res.ok) {\r\n                const text = await res.text();\r\n                throw new Error(text || `Error ${res.status}`);\r\n            }\r\n\r\n            const contentType = res.headers.get(\"content-type\");\r\n            let data;\r\n            if (contentType && contentType.includes(\"application/json\")) {\r\n                data = await res.json();\r\n            } else {\r\n                throw new Error(\"Invalid response from server\");\r\n            }\r\n            \r\n            if (res.ok) {\r\n                setProfile(prev => prev ? ({ ...prev, reputation: data.newReputation }) : null);\r\n                showToast(t('profile.karma_success'), \"success\");\r\n            } else {\r\n                showToast(data.error || t('profile.karma_error'), \"error\");\r\n            }\r\n        } catch (e) { \r\n            console.error(e); \r\n            showToast(t('profile.karma_conn_error'), \"error\");\r\n        }\r\n        finally { setGivingKarma(false); }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            setLoading(true)\r\n            setError(null)\r\n            try {\r\n                // 1. Fetch Profile\r\n                const resUser = await fetch(`${API_URL}/users/profile/${username}`)\r\n                if (!resUser.ok) {\r\n                    if(resUser.status === 404) throw new Error(t('profile.not_found', 'Usuario no encontrado'))\r\n                    throw new Error(\"Error loading profile\")\r\n                }\r\n                \r\n                const contentType = resUser.headers.get(\"content-type\");\r\n                let response;\r\n                if (contentType && contentType.includes(\"application/json\")) {\r\n                    response = await resUser.json()\r\n                } else {\r\n                    throw new Error(\"Invalid response format from server\")\r\n                }\r\n                if (!response.success || !response.data) throw new Error(\"Invalid response format\")\r\n                const userData = response.data\r\n                setProfile(userData)\r\n\r\n                // 2. Fetch Medals Definitions (if user has medals)\r\n                if (userData.medals && userData.medals.length > 0) {\r\n                    const resSettings = await fetch(`${API_URL}/settings`)\r\n                    if (resSettings.ok) {\r\n                        const contentType = resSettings.headers.get(\"content-type\");\r\n                        if (contentType && contentType.includes(\"application/json\")) {\r\n                            const settings = await resSettings.json()\r\n                            if (settings.medal_definitions) {\r\n                                try {\r\n                                    const parsed = typeof settings.medal_definitions === 'string' \r\n                                        ? JSON.parse(settings.medal_definitions) \r\n                                        : settings.medal_definitions\r\n                                    setMedalDefinitions(Array.isArray(parsed) ? parsed : [])\r\n                                } catch (e) {\r\n                                    console.warn(\"Failed to parse medals\", e)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (userData.public_stats) {\r\n                    setStatsLoading(true)\r\n                    try {\r\n                        // Use Minecraft Nick/UUID if available, else fallback to username (sanitized)\r\n                        const statsIdentifier = userData.minecraft_uuid || userData.minecraft_nick || userData.original_username || username;\r\n                        const resStats = await fetch(`${API_URL}/player-stats/${statsIdentifier}`)\r\n                        if (resStats.ok) {\r\n                            const contentType = resStats.headers.get(\"content-type\");\r\n                            if (contentType && contentType.includes(\"application/json\")) {\r\n                                const response = await resStats.json()\r\n                                if (response.success && response.data) {\r\n                                    setPlayerStats(response.data)\r\n                                } else {\r\n                                    setPlayerStats(response)\r\n                                }\r\n                            }\r\n                        }\r\n                    } catch (e) { console.warn(\"Failed to fetch stats\", e) }\r\n                    finally { setStatsLoading(false) }\r\n                }\r\n            } catch (err) {\r\n                console.error(err)\r\n                setError(err instanceof Error ? err.message : \"Unknown error\")\r\n            } finally {\r\n                setLoading(false)\r\n            }\r\n        }\r\n\r\n        if (username) fetchData()\r\n    }, [username, t])\r\n\r\n    if (loading) return <div className=\"layout-center\"><Loader /></div>\r\n    \r\n    if (error) return (\r\n        <div style={{ \r\n            display: 'flex',\r\n            flexDirection: 'column', \r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '2rem', \r\n            minHeight: '80vh',\r\n            textAlign: 'center',\r\n            padding: '2rem',\r\n            width: '100%'\r\n        }}>\r\n            <motion.div \r\n                initial={{ opacity: 0, scale: 0.9 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                style={{\r\n                    width: '120px',\r\n                    height: '120px',\r\n                    background: 'rgba(255, 68, 68, 0.1)',\r\n                    borderRadius: '50%',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    border: '1px solid rgba(255, 68, 68, 0.2)',\r\n                    marginBottom: '1rem',\r\n                    boxShadow: '0 0 40px rgba(255, 68, 68, 0.1)'\r\n                }}\r\n            >\r\n                <User size={50} style={{ color: '#ff4444', opacity: 0.8 }} />\r\n            </motion.div>\r\n            \r\n            <div style={{ maxWidth: '450px' }}>\r\n                <h2 style={{ fontSize: '2.5rem', fontWeight: 800, marginBottom: '1rem', background: 'linear-gradient(to bottom, #fff, #888)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>\r\n                    {t('profile.not_found_title', '쮸 d칩nde se fue?')}\r\n                </h2>\r\n                <p style={{ color: 'var(--muted)', fontSize: '1.1rem', lineHeight: 1.6, marginBottom: '2.5rem' }}>\r\n                    {t('profile.not_found_desc', 'No hemos podido encontrar a ning칰n usuario con ese nombre. Quiz치s se ha perdido en el mar o nunca existi칩.')}\r\n                </p>\r\n                \r\n                <button \r\n                    className=\"nav-btn primary\" \r\n                    onClick={() => navigate('/')}\r\n                    style={{ \r\n                        padding: '1rem 2.5rem', \r\n                        fontSize: '1rem', \r\n                        borderRadius: '12px',\r\n                        display: 'inline-flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.8rem'\r\n                    }}\r\n                >\r\n                    <Home size={18} /> {t('common.back_home', 'Volver al Inicio')}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    if (!profile) return null\r\n\r\n    return (\r\n        <div className=\"public-profile-container fade-in\">\r\n            {/* Premium Header */}\r\n            <ProfileHeader \r\n                profile={profile} \r\n                currentUser={currentUser} \r\n                onGiveKarma={handleGiveKarma} \r\n                givingKarma={givingKarma} \r\n            />\r\n            \r\n            <div className=\"profile-content\">\r\n                <style>{`\r\n                 /* Layout */\r\n                .profile-content {\r\n                    width: 100%;\r\n                    max-width: 1200px;\r\n                    padding: 0 1.5rem;\r\n                    display: grid;\r\n                    grid-template-columns: 350px 1fr;\r\n                    gap: 2rem;\r\n                    margin: 0 auto;\r\n                }\r\n                .profile-main {\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    gap: 2rem;\r\n                }\r\n                .profile-sidebar {\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    gap: 2rem;\r\n                }\r\n                 @media (max-width: 900px) {\r\n                    .profile-content {\r\n                        grid-template-columns: 1fr;\r\n                    }\r\n                }\r\n                \r\n                /* Glassmorphism Cards (Still needed for SkinViewer wrapper) */\r\n                .premium-card {\r\n                    background: rgba(255, 255, 255, 0.03);\r\n                    backdrop-filter: blur(12px);\r\n                    -webkit-backdrop-filter: blur(12px);\r\n                    border: 1px solid rgba(255, 255, 255, 0.06);\r\n                    border-radius: 24px;\r\n                    padding: 2rem;\r\n                    position: relative;\r\n                    transition: all 0.3s ease;\r\n                }\r\n                .premium-card:hover {\r\n                    border-color: rgba(255, 255, 255, 0.12);\r\n                    box-shadow: 0 15px 35px rgba(0,0,0,0.2);\r\n                }\r\n                .premium-card h3 {\r\n                    font-size: 0.9rem;\r\n                    text-transform: uppercase;\r\n                    letter-spacing: 2px;\r\n                    color: rgba(255,255,255,0.4);\r\n                    margin-bottom: 1.5rem;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    gap: 0.8rem;\r\n                }\r\n                 .skin-preview-premium {\r\n                    width: 100%;\r\n                    aspect-ratio: 3/4;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    position: relative;\r\n                }\r\n                `}</style>\r\n\r\n                {/* Left Column: Stats & Skin */}\r\n                <div className=\"profile-sidebar\">\r\n                     {/* Skin Showcase */}\r\n                     <div className=\"premium-card\">\r\n                        <h3><Gamepad2 size={18} /> {t('profile.skin_title')}</h3>\r\n                        <div className=\"skin-preview-premium\">\r\n                            <SkinViewer username={profile.username} height={380} width={280} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Stats Showcase */}\r\n                    <PlayerStatsGrid \r\n                        stats={playerStats} \r\n                        loading={statsLoading} \r\n                        isPublic={!!profile.public_stats} \r\n                        isAdmin={isAdmin} \r\n                    />\r\n                </div>\r\n\r\n                {/* Right Column: Bio, Medals & Wall */}\r\n                <div className=\"profile-main\">\r\n                    {/* Bio & Social */}\r\n                    <div className=\"premium-card\">\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', flexWrap: 'wrap', gap: '1rem' }}>\r\n                            <div style={{ flex: 1, minWidth: '300px' }}>\r\n                                <h3><User size={18} /> {t('profile.about_me')}</h3>\r\n                                <div style={{ color: '#aaa', lineHeight: 1.8 }}>\r\n                                    {profile.bio ? <MarkdownRenderer content={profile.bio} /> : <p style={{ fontStyle: 'italic' }}>{t('profile.no_bio')}</p>}\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div style={{ width: '200px' }}>\r\n                                <h4 style={{ fontSize: '0.7rem', textTransform: 'uppercase', color: '#444', letterSpacing: '1px', marginBottom: '1rem' }}>Social</h4>\r\n                                <div style={{ display: 'flex', gap: '0.8rem' }}>\r\n                                    {profile.social_discord && (\r\n                                        <motion.div \r\n                                            whileHover={{ scale: 1.1 }} \r\n                                            whileTap={{ scale: 0.95 }} \r\n                                            style={{ cursor: 'pointer' }} \r\n                                            onClick={() => {\r\n                                                navigator.clipboard.writeText(profile.social_discord!);\r\n                                                showToast(t('common.copied', 'Copiado al portapapeles'), 'success');\r\n                                            }} \r\n                                            title={profile.social_discord}\r\n                                        >\r\n                                            <svg stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 640 512\" height=\"20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\" style={{ color: '#5865F2' }}>\r\n                                                <title>{profile.social_discord}</title>\r\n                                                <path d=\"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.8,167.234,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z\" />\r\n                                            </svg>\r\n                                        </motion.div>\r\n                                    )}\r\n                                    {profile.social_twitter && (\r\n                                        <motion.a \r\n                                            whileHover={{ scale: 1.1 }} \r\n                                            whileTap={{ scale: 0.95 }} \r\n                                            href={profile.social_twitter.startsWith('http') ? profile.social_twitter : `https://twitter.com/${profile.social_twitter}`} \r\n                                            target=\"_blank\" \r\n                                            rel=\"noopener noreferrer\" \r\n                                            style={{ color: '#1d9bf0' }}\r\n                                            title={t('profile.visit_twitter', 'Visitar Twitter')}\r\n                                        >\r\n                                            <Twitter size={20} />\r\n                                        </motion.a>\r\n                                    )}\r\n                                    {profile.social_twitch && (\r\n                                        <motion.a \r\n                                            whileHover={{ scale: 1.1 }} \r\n                                            whileTap={{ scale: 0.95 }}\r\n                                            href={profile.social_twitch.startsWith('http') ? profile.social_twitch : `https://twitch.tv/${profile.social_twitch}`} \r\n                                            target=\"_blank\" \r\n                                            rel=\"noopener noreferrer\" \r\n                                            style={{ color: '#9146FF' }}\r\n                                            title={t('profile.visit_twitch', 'Visitar Twitch')}\r\n                                        >\r\n                                            <Twitch size={20} />\r\n                                        </motion.a>\r\n                                    )}\r\n                                    {profile.social_youtube && (\r\n                                        <motion.a \r\n                                            whileHover={{ scale: 1.1 }} \r\n                                            whileTap={{ scale: 0.95 }}\r\n                                            href={profile.social_youtube.startsWith('http') ? profile.social_youtube : `https://youtube.com/@${profile.social_youtube}`} \r\n                                            target=\"_blank\" \r\n                                            rel=\"noopener noreferrer\" \r\n                                            style={{ color: '#ff0000' }}\r\n                                            title={t('profile.visit_youtube', 'Visitar YouTube')}\r\n                                        >\r\n                                            <Youtube size={20} />\r\n                                        </motion.a>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Medals Showcase */}\r\n                    {profile.medals && profile.medals.length > 0 && (\r\n                        <div className=\"premium-card\">\r\n                            <h3><Medal size={18} /> {t('profile.medals')}</h3>\r\n                            <div className=\"medal-grid\" style={{ display: 'flex', flexWrap: 'wrap', gap: '0.8rem' }}>\r\n                                {profile.medals.map((medalId: string | number) => {\r\n                                    const def = medalDefinitions.find((m: MedalDefinition) => m.id === medalId)\r\n                                    if (!def) return null\r\n                                    const Icon = MEDAL_ICONS[def.icon as keyof typeof MEDAL_ICONS] || Medal\r\n                                    return (\r\n                                        <motion.div \r\n                                            key={medalId}\r\n                                            whileHover={{ scale: 1.1, rotate: 5 }}\r\n                                            style={{ \r\n                                                padding: '0.8rem', \r\n                                                background: 'rgba(255,255,255,0.03)', \r\n                                                borderRadius: '12px',\r\n                                                border: `1px solid ${def.color}33`,\r\n                                                display: 'flex',\r\n                                                alignItems: 'center',\r\n                                                gap: '0.8rem'\r\n                                            }}\r\n                                            title={def.description}\r\n                                        >\r\n                                            {def.image_url ? (\r\n                                                <img \r\n                                                    src={def.image_url} \r\n                                                    alt={def.name} \r\n                                                    style={{ width: '1.5rem', height: '1.5rem', objectFit: 'contain' }} \r\n                                                />\r\n                                            ) : (\r\n                                                <Icon style={{ color: def.color, fontSize: '1.2rem' }} />\r\n                                            )}\r\n                                            <span style={{ fontSize: '0.8rem', fontWeight: 600 }}>\r\n                                                {(() => {\r\n                                                    // Check for English dynamic content\r\n                                                    if (i18n.language.startsWith('en') && def.name_en) return def.name_en;\r\n                                                    return t(`account.medals.items.${medalId}.title`, def.name) as string;\r\n                                                })()}\r\n                                            </span>\r\n                                        </motion.div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Profile Wall */}\r\n                    <div className=\"premium-card\" style={{ padding: 0, background: 'transparent', border: 'none', backdropFilter: 'none' }}>\r\n                         <ProfileWall profileId={profile.id} isAdmin={isAdmin} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Toast Notifications */}\r\n            <Toast \r\n                message={toast.message} \r\n                type={toast.type} \r\n                isVisible={toast.visible}\r\n                onClose={() => setToast(prev => ({ ...prev, visible: false }))} \r\n            />\r\n        </div>\r\n    )\r\n}\r\n"],"names":["getProfileComments","profileId","data","error","supabase","postProfileComment","content","session","deleteProfileComment","commentId","RANK_IMAGES","ProfileWall","isAdmin","mockComments","t","useTranslation","user","useAuth","comments","setComments","useState","newComment","setNewComment","loading","setLoading","sending","setSending","deleteCommentId","setDeleteCommentId","isDeleting","setIsDeleting","useEffect","handlePostComment","e","comment","prev","handleDeleteClick","id","confirmDelete","c","jsxs","jsx","MessageCircle","Loader","Fragment","Send","AnimatePresence","motion","isMe","authorMetadata","pref","mcNick","statusMessage","discordTag","useMinecraft","displayAvatar","_a","_b","_c","_d","_e","displayName","_f","roleRaw","_g","_h","role","roleImage","Trash2","ConfirmationModal","SkinViewer","username","width","height","animation","capeUrl","skinUrl","getAnimation","WalkingAnimation","RunningAnimation","FlyingAnimation","IdleAnimation","ReactSkinview3d","viewer","ProfileHeader","profile","currentUser","onGiveKarma","givingKarma","RoleBadge","Heart","Plus","statusMsg","PlayerStatsGrid","stats","isPublic","parsePlaytime","ptStr","h","m","parseMoney","moneyStr","Trophy","PlaystyleRadar","API_URL","PublicProfile","useParams","navigate","useNavigate","i18n","checkIsAdmin","setProfile","setError","medalDefinitions","setMedalDefinitions","playerStats","setPlayerStats","statsLoading","setStatsLoading","setGivingKarma","toast","setToast","showToast","message","type","handleGiveKarma","res","text","contentType","resUser","response","userData","resSettings","settings","parsed","statsIdentifier","resStats","err","User","Home","Gamepad2","MarkdownRenderer","Twitter","Twitch","Youtube","Medal","medalId","def","Icon","MEDAL_ICONS","Toast"],"mappings":"+pBAqBO,MAAMA,GAAqB,MAAOC,GAAiD,CACtF,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAU,MAAMC,EACzB,KAAK,kBAAkB,EACvB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAaP,EACA,GAAG,aAAcH,CAAS,EAC1B,MAAM,aAAc,CAAE,UAAW,GAAO,EAE7C,GAAIE,EAAO,MAAMA,EACjB,OAAOD,GAAQ,CAAA,CACnB,EAEaG,GAAqB,MAAOJ,EAAmBK,IAA6C,CACrG,KAAM,CAAE,KAAM,CAAE,QAAAC,CAAA,GAAc,MAAMH,EAAS,KAAK,WAAA,EAClD,GAAI,CAACG,EAAS,MAAM,IAAI,MAAM,mBAAmB,EAEjD,KAAM,CAAE,KAAAL,EAAM,MAAAC,GAAU,MAAMC,EACzB,KAAK,kBAAkB,EACvB,OAAO,CACJ,WAAYH,EACZ,UAAWM,EAAQ,KAAK,GACxB,QAAAD,CAAA,CACH,EACA,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAaP,EACA,OAAA,EAEL,GAAIH,EAAO,MAAMA,EACjB,OAAOD,CACX,EAEaM,GAAuB,MAAOC,GAAqC,CAC5E,KAAM,CAAE,MAAAN,CAAA,EAAU,MAAMC,EACnB,KAAK,kBAAkB,EACvB,OAAA,EACA,GAAG,KAAMK,CAAS,EAEvB,GAAIN,EAAO,MAAMA,CACrB,ECnEMO,EAAsC,CACxC,MAAS,mBACT,UAAa,uBACb,UAAa,uBACb,OAAU,oBACV,MAAS,mBACT,QAAW,0BACX,SAAY,2BACZ,MAAS,wBACT,UAAa,4BACb,KAAQ,iBACZ,EAEA,SAAwBC,GAAY,CAAE,UAAAV,EAAW,QAAAW,EAAS,aAAAC,GAAkC,CACxF,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAA,EACR,CAAE,KAAAC,CAAA,EAASC,EAAA,EACX,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAA2B,CAAA,CAAE,EACvD,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAAS,EAAE,EACzC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAI,EACrC,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAK,EAGtC,CAACO,EAAiBC,CAAkB,EAAIR,EAAAA,SAAwB,IAAI,EACpE,CAACS,EAAYC,CAAa,EAAIV,EAAAA,SAAS,EAAK,EAElDW,EAAAA,UAAU,IAAM,CACZ,GAAIlB,EAAc,CACdM,EAAYN,CAAY,EACxBW,EAAW,EAAK,EAChB,MACJ,CAYIvB,IAVkB,SAAY,CAC9B,GAAI,CACA,MAAMC,EAAO,MAAMF,GAAmBC,CAAS,EAC/CkB,EAAYjB,CAAI,CACpB,OAASC,EAAO,CACZ,QAAQ,MAAM,+BAAgCA,CAAK,CACvD,QAAA,CACIqB,EAAW,EAAK,CACpB,CACJ,GACe,CACnB,EAAG,CAACvB,EAAWY,CAAY,CAAC,EAE5B,MAAMmB,EAAoB,MAAOC,GAAuB,CAEpD,GADAA,EAAE,eAAA,EACE,GAACjB,GAAQ,CAACK,EAAW,KAAA,GAAUI,GAEnC,CAAAC,EAAW,EAAI,EACf,GAAI,CACA,MAAMQ,EAAU,MAAM7B,GAAmBJ,EAAWoB,CAAU,EAC9DF,EAAYgB,GAAQ,CAACD,EAAS,GAAGC,CAAI,CAAC,EACtCb,EAAc,EAAE,CACpB,OAASnB,EAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,CACjD,QAAA,CACIuB,EAAW,EAAK,CACpB,EACJ,EAEMU,EAAqBC,GAAe,CACtCT,EAAmBS,CAAE,CACzB,EAEMC,EAAgB,SAAY,CAC9B,GAAKX,EACL,CAAAG,EAAc,EAAI,EAClB,GAAI,CACA,MAAMtB,GAAqBmB,CAAe,EAC1CR,KAAoBgB,EAAK,UAAYI,EAAE,KAAOZ,CAAe,CAAC,EAC9DC,EAAmB,IAAI,CAC3B,OAASzB,EAAO,CACZ,QAAQ,MAAM,0BAA2BA,CAAK,CAClD,QAAA,CACI2B,EAAc,EAAK,CACvB,EACJ,EAEA,OACIU,EAAAA,KAAC,MAAA,CAAI,UAAU,gFACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,oHACV,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAc,UAAU,iBAAA,CAAkB,EAAE,IAAE5B,EAAE,qBAAsB,qBAAqB,CAAA,EAChG,EAGCE,EACGwB,EAAAA,KAAC,OAAA,CAAK,SAAUR,EAAmB,UAAU,gBACzC,SAAA,CAAAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACX,SAAA,CAAAC,EAAAA,IAAC,WAAA,CACG,MAAOpB,EACP,SAAWY,GAAMX,EAAcW,EAAE,OAAO,KAAK,EAC7C,YAAanB,EAAE,2BAA4B,8BAA8B,EACzE,UAAW,IACX,UAAU,kPAAA,CAAA,EAEd0B,EAAAA,KAAC,MAAA,CAAI,UAAU,mHACV,SAAA,CAAAnB,EAAW,OAAO,MAAA,CAAA,CACvB,CAAA,EACJ,EAEAoB,EAAAA,IAAC,MAAA,CAAI,UAAU,wBACX,SAAAA,EAAAA,IAAC,SAAA,CACG,KAAK,SACL,SAAU,CAACpB,EAAW,KAAA,GAAUI,EAChC,UAAU,kRAET,WAAUgB,MAACE,EAAA,CAAO,QAAO,EAAA,CAAC,EAAKH,EAAAA,KAAAI,EAAAA,SAAA,CAAE,SAAA,CAAAH,EAAAA,IAACI,GAAA,CAAK,KAAM,EAAA,CAAI,EAAE,IAAE/B,EAAE,oBAAqB,UAAU,CAAA,CAAA,CAAE,CAAA,CAAA,CAC7F,CACJ,CAAA,CAAA,CACJ,EAEA2B,EAAAA,IAAC,MAAA,CAAI,UAAU,mFACX,SAAAA,MAAC,IAAA,CAAE,UAAU,kCACR,SAAA3B,EAAE,8BAA+B,yCAAyC,EAC/E,EACJ,EAIJ2B,EAAAA,IAAC,OAAI,UAAU,YACV,WACGA,MAAC,MAAA,CAAI,UAAU,kDACX,SAAAA,EAAAA,IAACE,EAAA,CAAO,KAAM7B,EAAE,gBAAgB,CAAA,CAAG,CAAA,CACvC,EACAI,EAAS,SAAW,EACpBsB,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACX,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,2BAA2B,SAAA,KAAE,QAC3C,IAAA,CAAE,UAAU,iCACR,SAAA3B,EAAE,qBAAsB,sCAAsC,CAAA,CACnE,CAAA,EACJ,EAEA2B,EAAAA,IAACK,GAAA,CACI,SAAA5B,EAAS,IAAKgB,GAEXM,EAAAA,KAACO,EAAO,IAAP,CAEG,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,MAAO,GAAA,EAC3B,UAAU,uGAER,SAAA,EAAA,IAAM,qBAEJ,MAAMC,GAAOhC,GAAA,YAAAA,EAAM,MAAOkB,EAAQ,UAW5Be,EAAkBD,EAClBhC,GAAA,YAAAA,EAAM,cACNkB,EAAQ,OAERgB,GAAQD,GAAA,YAAAA,EAAgB,oBAAgC,YACxDE,GAAUF,GAAA,YAAAA,EAAgB,iBAA6B,GACvDG,GAAiBH,GAAA,YAAAA,EAAgB,iBAA6B,GAC9DI,GAAcJ,GAAA,YAAAA,EAAgB,cAA0B,GAExDK,EAAeJ,IAAS,aAAeC,EAEvCI,EAAgBD,EAChB,+BAA+BH,CAAM,OACpCH,IACKQ,EAAAxC,GAAA,YAAAA,EAAM,gBAAN,YAAAwC,EAAqB,YAAWC,EAAAzC,GAAA,YAAAA,EAAM,gBAAN,YAAAyC,EAAqB,eAAcC,EAAAxB,EAAQ,SAAR,YAAAwB,EAAgB,cACnFC,EAAAzB,EAAQ,SAAR,YAAAyB,EAAgB,sBAAqBC,EAAA1B,EAAQ,SAAR,YAAA0B,EAAgB,YAE3DC,EAAc,OAAQP,GAAgBH,EACtCA,GACCF,GAAA,YAAAA,EAAgB,aAAaA,GAAA,YAAAA,EAAgB,aAAYa,EAAA5B,EAAQ,SAAR,YAAA4B,EAAgB,WAAYhD,EAAE,mBAAoB,SAAS,CAAE,EAEvHiD,EAAUf,GAAOgB,EAAAhD,GAAA,YAAAA,EAAM,gBAAN,YAAAgD,EAAqB,MAAOC,EAAA/B,EAAQ,SAAR,YAAA+B,EAAgB,KAC7DC,EAAO,OAAOH,GAAW,MAAM,EAAE,YAAA,EACjCI,EAAYzD,EAAYwD,CAAI,IAAMA,EAAK,SAAS,SAAS,EAAIxD,EAAY,QAAaA,EAAY,MAExG,OACI8B,EAAAA,KAAC,MAAA,CAAI,UAAU,aAEX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iCAEX,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACV,SAAAc,EACGd,EAAAA,IAAC,MAAA,CACG,IAAKc,EACL,IAAKM,EACL,UAAU,oEAAA,CAAA,EAGdpB,EAAAA,IAAC,MAAA,CAAI,UAAU,wGACX,eAACC,EAAA,CAAc,UAAU,SAAA,CAAU,CAAA,CACvC,CAAA,CAER,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,2QACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,4DACX,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,IAAKc,GAAiB,oCAAoCM,CAAW,GAAI,UAAU,oCAAoC,IAAI,QAAA,CAAS,SACxI,MAAA,CACG,SAAA,CAAApB,EAAAA,IAAC,IAAA,CAAE,UAAU,6CAA8C,SAAAoB,EAAY,EACtET,GACGZ,EAAAA,KAAC,IAAA,CAAE,UAAU,uDAAuD,SAAA,CAAA,IAAEY,EAAc,GAAA,EAAC,QAExF,MAAA,CAAI,IAAKe,EAAW,IAAKD,EAAM,UAAU,qCAAA,CAAsC,CAAA,CAAA,CACpF,CAAA,EACJ,EAEA1B,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACV,SAAA,CAAAW,GACGX,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACX,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,4DAA4D,SAAA,YAAS,EACrFA,EAAAA,IAAC,OAAA,CAAK,UAAU,uBAAwB,SAAAU,CAAA,CAAO,CAAA,EACnD,EAEHE,GACGb,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACX,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,4DAA4D,SAAA,UAAO,EACnFA,EAAAA,IAAC,OAAA,CAAK,UAAU,kBAAmB,SAAAY,CAAA,CAAW,CAAA,EAClD,EAEJb,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACX,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,4DAA4D,SAAA,MAAG,EAC/EA,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAyB,SAAAyB,CAAA,CAAK,CAAA,CAAA,CAClD,CAAA,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,EACJ,EAGA1B,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACX,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,qGACX,SAAAoB,EACL,EACApB,EAAAA,IAAC,MAAA,CACG,IAAK0B,EACL,IAAKD,EACL,UAAU,iCACV,QAAUjC,GAAM,CACZA,EAAE,cAAc,MAAM,QAAU,MACpC,CAAA,CAAA,CACJ,EACJ,EACAQ,EAAAA,IAAC,OAAA,CAAK,UAAU,iGACX,SAAA,IAAI,KAAKP,EAAQ,UAAU,EAAE,mBAAA,CAAmB,CACrD,CAAA,EACJ,EACAO,EAAAA,IAAC,MAAA,CAAI,UAAU,wFACV,WAAQ,OAAA,CACb,CAAA,CAAA,CACJ,CAAA,EACJ,CAER,GAAA,GAGE7B,IAAWI,GAAA,YAAAA,EAAM,MAAOkB,EAAQ,YAAalB,GAAA,YAAAA,EAAM,MAAOf,IACxDwC,EAAAA,IAAC,SAAA,CACG,QAAS,IAAML,EAAkBF,EAAQ,EAAE,EAC3C,UAAU,8IACV,MAAOpB,EAAE,gBAAiB,UAAU,EAEpC,SAAA2B,EAAAA,IAAC2B,GAAA,CAAO,KAAM,EAAA,CAAI,CAAA,CAAA,CACtB,CAAA,EArIClC,EAAQ,EAAA,CAwIpB,EACL,CAAA,CAER,EAEAO,EAAAA,IAAC4B,GAAA,CACG,OAAQ,CAAC,CAAC1C,EACV,QAAS,IAAM,CAACE,GAAcD,EAAmB,IAAI,EACrD,UAAWU,EACX,UAAWT,EACX,MAAOf,EAAE,8BAA+B,uBAAuB,EAC/D,QAASA,EAAE,4BAA6B,yFAAyF,EACjI,YAAaA,EAAE,gBAAiB,UAAU,EAC1C,WAAYA,EAAE,gBAAiB,UAAU,CAAA,CAAA,CAC7C,EACJ,CAER,CCvSA,SAAwBwD,GAAW,CAC/B,SAAAC,EACA,MAAAC,EAAQ,IACR,OAAAC,EAAS,IACT,UAAAC,EAAY,OACZ,QAAAC,CACJ,EAAoB,CAChB,MAAMC,EAAU,6BAA6BL,CAAQ,GAG/CM,EAAe,IAAM,CACvB,OAAQH,EAAA,CACJ,IAAK,OAAQ,OAAOI,GACpB,IAAK,MAAO,OAAOC,GACnB,IAAK,MAAO,OAAOC,GACnB,QAAS,OAAOC,EAAA,CAExB,EAEA,OACIxC,MAAC,OAAI,UAAU,wBAAwB,MAAO,CAAE,OAAQ,QACpD,SAAAA,EAAAA,IAACyC,GAAA,CACG,QAAAN,EACA,QAAAD,EACA,OAAAF,EACA,MAAAD,EACA,QAAS,CAAC,CAAE,OAAAW,KAA2C,CACnDA,EAAO,UAAY,IAAKN,KACxBM,EAAO,SAAS,WAAa,GAC7BA,EAAO,WAAa,GACpBA,EAAO,gBAAkB,EAC7B,CAAA,CAAA,EAER,CAER,CCXA,SAAwBC,GAAc,CAAE,QAAAC,EAAS,YAAAC,EAAa,YAAAC,EAAa,YAAAC,GAAmC,CAC1G,KAAM,CAAE,EAAA1E,CAAA,EAAMC,EAAA,EAMR8C,GAAe,IAAM,CAEvB,MAAMP,GADO+B,EAAQ,mBAAqB,eACZ,YACxBlC,EAASkC,EAAQ,gBAAkBA,EAAQ,SAEjD,OAAI/B,EAAqBH,EAClBkC,EAAQ,WAAaA,EAAQ,QACxC,GAAA,EAEA,OACI7C,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACV,SAAA,CAAAC,MAAC,QAAA,CAAO,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAkFP,EAED4C,EAAQ,mBACL5C,MAAC,MAAA,CAAI,IAAK4C,EAAQ,mBAAoB,IAAI,SAAS,UAAU,gBAAA,CAAiB,EAE9E5C,EAAAA,IAAC,MAAA,CAAI,UAAU,6BAA6B,EAGhDD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACX,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACX,SAAAA,EAAAA,IAAC,MAAA,CACG,IACK4C,EAAQ,oBAAsB,SACxBA,EAAQ,mBAAqBA,EAAQ,YAAc,oCAAoCxB,CAAW,GACnG,+BAA+BwB,EAAQ,QAAQ,OAEzD,IAAKA,EAAQ,SACb,UAAU,wBAAA,CAAA,EAElB,EACA5C,EAAAA,IAAC,MAAA,CAAI,UAAU,wBACX,SAAAD,EAAAA,KAACO,EAAO,IAAP,CACG,QAAS,CAAE,QAAS,EAAG,EAAG,GAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAE1B,SAAA,CAAAN,MAACgD,IAAU,KAAMJ,EAAQ,KAAM,SAAUA,EAAQ,SAAU,EAC3D7C,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,QAAA,EACtD,SAAA,CAAAC,EAAAA,IAAC,MAAI,SAAAoB,CAAA,CAAY,EACjBrB,OAAC,OAAI,MAAO,CACR,QAAS,OACT,WAAY,SACZ,IAAK,SACL,WAAY,yBACZ,QAAS,gBACT,aAAc,OACd,OAAQ,kCACR,eAAgB,YAAA,EAEhB,SAAA,CAAAC,MAACiD,IAAM,MAAO,CAAE,MAAO,SAAA,EAAa,KAAM,GAAI,EAC9CjD,EAAAA,IAAC,QAAK,MAAO,CAAE,WAAY,GAAA,EAAQ,SAAA4C,EAAQ,YAAc,CAAA,CAAE,EAC1DC,GAAeA,EAAY,KAAOD,EAAQ,IACvC5C,EAAAA,IAAC,SAAA,CACG,QAAS8C,EACT,SAAUC,EACV,MAAO,CACH,WAAY,OACZ,OAAQ,OACR,MAAO,UACP,OAAQ,UACR,QAAS,SACT,QAAS,OACT,QAASA,EAAc,GAAM,CAAA,EAEjC,MAAO1E,EAAE,oBAAoB,EAE7B,SAAA2B,EAAAA,IAACkD,GAAA,CAAK,KAAM,EAAA,CAAI,CAAA,CAAA,CACpB,CAAA,CAER,CAAA,EACJ,GAEhB,IAAM,OAEe,MAAMC,GAAYN,GAAA,YAAAA,EAAa,MAAOD,EAAQ,MACxC7B,EAAA8B,EAAY,gBAAZ,YAAA9B,EAA2B,iBAAkB6B,EAAQ,eAG3D,OAAKO,EAGFnD,EAAAA,IAACM,EAAO,IAAP,CACG,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,MAAO,GAAA,EACpC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,MAAO,CAAA,EACpC,WAAY,CAAE,KAAM,SAAU,UAAW,IAAK,QAAS,EAAA,EACvD,UAAU,4BAEV,eAAC,MAAA,CAAI,UAAU,gHACX,SAAAP,EAAAA,KAAC,IAAA,CAAE,UAAU,4DACT,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,2EAAA,CAA4E,EAAE,IAC5FmD,EAAU,GAAA,CAAA,CAChB,CAAA,CACJ,CAAA,CAAA,EAdgB,IAiB5B,GAAA,CAAG,CAAA,CAAA,CACP,CACJ,CAAA,CAAA,CACJ,CAAA,EACJ,CAER,CC1MA,SAAwBC,GAAgB,CAAE,MAAAC,EAAO,QAAAvE,EAAS,SAAAwE,EAAU,QAAAnF,GAAiC,CACjG,KAAM,CAAE,EAAAE,CAAA,EAAMC,EAAA,EAGRiF,EAAiBC,GAA0B,SAC7C,GAAI,CAACA,EAAO,MAAO,GACnB,MAAMC,EAAI,WAAS1C,EAAAyC,EAAM,MAAM,QAAQ,IAApB,YAAAzC,EAAwB,KAAM,GAAG,EAC9C2C,EAAI,WAAS1C,EAAAwC,EAAM,MAAM,QAAQ,IAApB,YAAAxC,EAAwB,KAAM,GAAG,EACpD,OAAOyC,EAAIC,EAAI,EACnB,EAEMC,EAAcC,GACXA,EACE,WAAWA,EAAS,QAAQ,aAAc,EAAE,CAAC,EAD9B,EAI1B,OACI7D,EAAAA,KAAC,MAAA,CAAI,UAAU,qIACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,0FACV,SAAA,CAAAC,EAAAA,IAAC6D,GAAA,CAAO,KAAM,EAAA,CAAI,EAAE,IAAExF,EAAE,0BAA2B,mBAAmB,CAAA,EAC1E,EAEEiF,GAAYnF,EACV6B,EAAAA,IAAC,MAAA,CAAI,UAAU,6BACV,SAAAlB,EACGkB,EAAAA,IAAC,MAAA,CAAI,UAAU,QAAQ,SAAAA,EAAAA,IAACE,GAAO,KAAM7B,EAAE,uBAAuB,CAAA,CAAG,CAAA,CAAE,EACnEgF,EACArD,MAAAG,EAAAA,SAAA,CACI,SAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,uBACX,SAAAA,EAAAA,IAAC8D,GAAA,CACG,MAAO,CACH,aAAc,OAAOT,EAAM,eAAiB,CAAC,EAC7C,YAAa,OAAOA,EAAM,cAAgB,CAAC,EAC3C,MAAO,OAAOA,EAAM,OAAS,CAAC,EAC9B,SAAU,OAAOA,EAAM,WAAa,CAAC,EACrC,cAAeE,EAAcF,EAAM,QAAQ,EAC3C,MAAOM,EAAWN,EAAM,KAAK,EAC7B,KAAMA,EAAM,MAAQ,SAAA,CACxB,CAAA,EAER,CAAA,CAGJ,EAEArD,MAAC,MAAA,CAAI,UAAU,0DACV,SAAA3B,EAAE,sBAAuB,4CAA4C,EAC1E,CAAA,CAER,EAEC0B,EAAAA,KAAC,MAAA,CAAI,UAAU,qFACZ,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,2BAA2B,SAAA,KAAE,QAC3C,IAAA,CAAE,UAAU,kCACR,SAAA3B,EAAE,wBAAyB,sDAAsD,CAAA,CACtF,CAAA,CAAA,CACJ,CAAA,EAER,CAER,CClEA,MAAM0F,EAAU,OAgDhB,SAAwBC,IAAgB,CACpC,KAAM,CAAE,SAAAlC,CAAA,EAAamC,GAAA,EACfC,EAAWC,GAAA,EACX,CAAE,EAAA9F,EAAG,KAAA+F,CAAA,EAAS9F,EAAA,EACd,CAAE,KAAMuE,CAAA,EAAgBrE,EAAA,EAGxBL,EAAUkG,GAAaxB,CAAW,EAGlC,CAACD,EAAS0B,CAAU,EAAI3F,EAAAA,SAAyB,IAAI,EACrD,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAI,EACrC,CAACjB,EAAO6G,CAAQ,EAAI5F,EAAAA,SAAwB,IAAI,EAChD,CAAC6F,EAAkBC,CAAmB,EAAI9F,EAAAA,SAA4B,CAAA,CAAE,EACxE,CAAC+F,EAAaC,CAAc,EAAIhG,EAAAA,SAA6B,IAAI,EACjE,CAACiG,EAAcC,CAAe,EAAIlG,EAAAA,SAAS,EAAK,EAChD,CAACoE,EAAa+B,CAAc,EAAInG,EAAAA,SAAS,EAAK,EAC9C,CAACoG,EAAOC,CAAQ,EAAIrG,WAAiE,CACvF,QAAS,GACT,QAAS,GACT,KAAM,MAAA,CACT,EAEKsG,EAAY,CAACC,EAAiBC,EAAkB,SAAW,CAC7DH,EAAS,CAAE,QAAS,GAAM,QAAAE,EAAS,KAAAC,EAAM,CAC7C,EAEMC,EAAkB,SAAY,OAChC,GAAI,GAACvC,GAAe,CAACD,IACjBC,EAAY,KAAOD,EAAQ,GAE/B,CAAAkC,EAAe,EAAI,EACnB,GAAI,CACA,MAAMO,EAAM,MAAM,MAAM,GAAGtB,CAAO,UAAUnB,EAAQ,EAAE,SAAU,CAC5D,OAAQ,OACR,QAAS,CACL,eAAgB,mBAChB,cAAiB,WAAW7B,GAAA,MAAMpD,EAAS,KAAK,cAAc,KAAK,UAAvC,YAAAoD,EAAgD,YAAY,EAAA,CAC5F,CACH,EACD,GAAI,CAACsE,EAAI,GAAI,CACT,MAAMC,EAAO,MAAMD,EAAI,KAAA,EACvB,MAAM,IAAI,MAAMC,GAAQ,SAASD,EAAI,MAAM,EAAE,CACjD,CAEA,MAAME,EAAcF,EAAI,QAAQ,IAAI,cAAc,EAClD,IAAI5H,EACJ,GAAI8H,GAAeA,EAAY,SAAS,kBAAkB,EACtD9H,EAAO,MAAM4H,EAAI,KAAA,MAEjB,OAAM,IAAI,MAAM,8BAA8B,EAG9CA,EAAI,IACJf,EAAW5E,GAAQA,EAAQ,CAAE,GAAGA,EAAM,WAAYjC,EAAK,aAAA,EAAmB,IAAI,EAC9EwH,EAAU5G,EAAE,uBAAuB,EAAG,SAAS,GAE/C4G,EAAUxH,EAAK,OAASY,EAAE,qBAAqB,EAAG,OAAO,CAEjE,OAASmB,EAAG,CACR,QAAQ,MAAMA,CAAC,EACfyF,EAAU5G,EAAE,0BAA0B,EAAG,OAAO,CACpD,QAAA,CACUyG,EAAe,EAAK,CAAG,EACrC,EA6EA,OA3EAxF,EAAAA,UAAU,IAAM,CAwERwC,IAvEc,SAAY,CAC1B/C,EAAW,EAAI,EACfwF,EAAS,IAAI,EACb,GAAI,CAEA,MAAMiB,EAAU,MAAM,MAAM,GAAGzB,CAAO,kBAAkBjC,CAAQ,EAAE,EAClE,GAAI,CAAC0D,EAAQ,GACT,MAAGA,EAAQ,SAAW,IAAW,IAAI,MAAMnH,EAAE,oBAAqB,uBAAuB,CAAC,EACpF,IAAI,MAAM,uBAAuB,EAG3C,MAAMkH,EAAcC,EAAQ,QAAQ,IAAI,cAAc,EACtD,IAAIC,EACJ,GAAIF,GAAeA,EAAY,SAAS,kBAAkB,EACtDE,EAAW,MAAMD,EAAQ,KAAA,MAEzB,OAAM,IAAI,MAAM,qCAAqC,EAEzD,GAAI,CAACC,EAAS,SAAW,CAACA,EAAS,KAAM,MAAM,IAAI,MAAM,yBAAyB,EAClF,MAAMC,EAAWD,EAAS,KAI1B,GAHAnB,EAAWoB,CAAQ,EAGfA,EAAS,QAAUA,EAAS,OAAO,OAAS,EAAG,CAC/C,MAAMC,EAAc,MAAM,MAAM,GAAG5B,CAAO,WAAW,EACrD,GAAI4B,EAAY,GAAI,CAChB,MAAMJ,EAAcI,EAAY,QAAQ,IAAI,cAAc,EAC1D,GAAIJ,GAAeA,EAAY,SAAS,kBAAkB,EAAG,CACzD,MAAMK,EAAW,MAAMD,EAAY,KAAA,EACnC,GAAIC,EAAS,kBACT,GAAI,CACA,MAAMC,EAAS,OAAOD,EAAS,mBAAsB,SAC/C,KAAK,MAAMA,EAAS,iBAAiB,EACrCA,EAAS,kBACfnB,EAAoB,MAAM,QAAQoB,CAAM,EAAIA,EAAS,CAAA,CAAE,CAC3D,OAASrG,EAAG,CACR,QAAQ,KAAK,yBAA0BA,CAAC,CAC5C,CAER,CACJ,CACJ,CAEA,GAAIkG,EAAS,aAAc,CACvBb,EAAgB,EAAI,EACpB,GAAI,CAEA,MAAMiB,EAAkBJ,EAAS,gBAAkBA,EAAS,gBAAkBA,EAAS,mBAAqB5D,EACtGiE,EAAW,MAAM,MAAM,GAAGhC,CAAO,iBAAiB+B,CAAe,EAAE,EACzE,GAAIC,EAAS,GAAI,CACb,MAAMR,EAAcQ,EAAS,QAAQ,IAAI,cAAc,EACvD,GAAIR,GAAeA,EAAY,SAAS,kBAAkB,EAAG,CACzD,MAAME,EAAW,MAAMM,EAAS,KAAA,EAC5BN,EAAS,SAAWA,EAAS,KAC7Bd,EAAec,EAAS,IAAI,EAE5Bd,EAAec,CAAQ,CAE/B,CACJ,CACJ,OAASjG,EAAG,CAAE,QAAQ,KAAK,wBAAyBA,CAAC,CAAE,QAAA,CAC7CqF,EAAgB,EAAK,CAAE,CACrC,CACJ,OAASmB,EAAK,CACV,QAAQ,MAAMA,CAAG,EACjBzB,EAASyB,aAAe,MAAQA,EAAI,QAAU,eAAe,CACjE,QAAA,CACIjH,EAAW,EAAK,CACpB,CACJ,GAEc,CAClB,EAAG,CAAC+C,EAAUzD,CAAC,CAAC,EAEZS,EAAgBkB,MAAC,MAAA,CAAI,UAAU,gBAAgB,SAAAA,EAAAA,IAACE,IAAO,EAAE,EAEzDxC,EACAqC,EAAAA,KAAC,MAAA,CAAI,MAAO,CACR,QAAS,OACT,cAAe,SACf,WAAY,SACZ,eAAgB,SAChB,IAAK,OACL,UAAW,OACX,UAAW,SACX,QAAS,OACT,MAAO,MAAA,EAEP,SAAA,CAAAC,EAAAA,IAACM,EAAO,IAAP,CACG,QAAS,CAAE,QAAS,EAAG,MAAO,EAAA,EAC9B,QAAS,CAAE,QAAS,EAAG,MAAO,CAAA,EAC9B,MAAO,CACH,MAAO,QACP,OAAQ,QACR,WAAY,yBACZ,aAAc,MACd,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,OAAQ,mCACR,aAAc,OACd,UAAW,iCAAA,EAGf,SAAAN,EAAAA,IAACiG,EAAA,CAAK,KAAM,GAAI,MAAO,CAAE,MAAO,UAAW,QAAS,EAAA,EAAO,CAAA,CAAA,SAG9D,MAAA,CAAI,MAAO,CAAE,SAAU,OAAA,EACpB,SAAA,CAAAjG,MAAC,MAAG,MAAO,CAAE,SAAU,SAAU,WAAY,IAAK,aAAc,OAAQ,WAAY,yCAA0C,qBAAsB,OAAQ,oBAAqB,aAAA,EAC5K,SAAA3B,EAAE,0BAA2B,kBAAkB,EACpD,QACC,IAAA,CAAE,MAAO,CAAE,MAAO,eAAgB,SAAU,SAAU,WAAY,IAAK,aAAc,UACjF,SAAAA,EAAE,yBAA0B,4GAA4G,EAC7I,EAEA0B,EAAAA,KAAC,SAAA,CACG,UAAU,kBACV,QAAS,IAAMmE,EAAS,GAAG,EAC3B,MAAO,CACH,QAAS,cACT,SAAU,OACV,aAAc,OACd,QAAS,cACT,WAAY,SACZ,IAAK,QAAA,EAGT,SAAA,CAAAlE,EAAAA,IAACkG,GAAA,CAAK,KAAM,GAAI,EAAE,IAAE7H,EAAE,mBAAoB,kBAAkB,CAAA,CAAA,CAAA,CAChE,EACJ,CAAA,EACJ,EAGCuE,EAGD7C,EAAAA,KAAC,MAAA,CAAI,UAAU,mCAEX,SAAA,CAAAC,EAAAA,IAAC2C,GAAA,CACG,QAAAC,EACA,YAAAC,EACA,YAAauC,EACb,YAAArC,CAAA,CAAA,EAGJhD,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACX,SAAA,CAAAC,MAAC,QAAA,CAAO,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA4DN,EAGFD,EAAAA,KAAC,MAAA,CAAI,UAAU,kBAEV,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,eACZ,SAAA,CAAAA,OAAC,KAAA,CAAG,SAAA,CAAAC,EAAAA,IAACmG,GAAA,CAAS,KAAM,GAAI,EAAE,IAAE9H,EAAE,oBAAoB,CAAA,EAAE,QACnD,MAAA,CAAI,UAAU,uBACX,eAACwD,GAAA,CAAW,SAAUe,EAAQ,SAAU,OAAQ,IAAK,MAAO,GAAA,CAAK,EACrE,CAAA,EACJ,EAGA5C,EAAAA,IAACoD,GAAA,CACG,MAAOsB,EACP,QAASE,EACT,SAAU,CAAC,CAAChC,EAAQ,aAAA,QACpBzE,CAAA,CAAA,CACJ,EACJ,EAGA4B,EAAAA,KAAC,MAAA,CAAI,UAAU,eAEX,SAAA,CAAAC,MAAC,OAAI,UAAU,eACX,SAAAD,OAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,aAAc,SAAU,OAAQ,IAAK,MAAA,EAC7G,SAAA,CAAAA,OAAC,OAAI,MAAO,CAAE,KAAM,EAAG,SAAU,OAAA,EAC7B,SAAA,CAAAA,OAAC,KAAA,CAAG,SAAA,CAAAC,EAAAA,IAACiG,EAAA,CAAK,KAAM,GAAI,EAAE,IAAE5H,EAAE,kBAAkB,CAAA,EAAE,EAC9C2B,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,MAAO,OAAQ,WAAY,GAAA,EACpC,SAAA4C,EAAQ,IAAM5C,EAAAA,IAACoG,GAAA,CAAiB,QAASxD,EAAQ,GAAA,CAAK,EAAK5C,EAAAA,IAAC,IAAA,CAAE,MAAO,CAAE,UAAW,QAAA,EAAa,SAAA3B,EAAE,gBAAgB,CAAA,CAAE,EACxH,CAAA,EACJ,SAEC,MAAA,CAAI,MAAO,CAAE,MAAO,OAAA,EACjB,SAAA,OAAC,KAAA,CAAG,MAAO,CAAE,SAAU,SAAU,cAAe,YAAa,MAAO,OAAQ,cAAe,MAAO,aAAc,QAAU,SAAA,SAAM,EAChI0B,OAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAA,EAC/B,SAAA,CAAA6C,EAAQ,gBACL5C,EAAAA,IAACM,EAAO,IAAP,CACG,WAAY,CAAE,MAAO,GAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,MAAO,CAAE,OAAQ,SAAA,EACjB,QAAS,IAAM,CACX,UAAU,UAAU,UAAUsC,EAAQ,cAAe,EACrDqC,EAAU5G,EAAE,gBAAiB,yBAAyB,EAAG,SAAS,CACtE,EACA,MAAOuE,EAAQ,eAEf,gBAAC,OAAI,OAAO,eAAe,KAAK,eAAe,YAAY,IAAI,QAAQ,cAAc,OAAO,KAAK,MAAM,KAAK,MAAM,6BAA6B,MAAO,CAAE,MAAO,SAAA,EAC3J,SAAA,OAAC,QAAA,CAAO,WAAQ,eAAe,EAC/B5C,EAAAA,IAAC,OAAA,CAAK,EAAE,+wCAA+wC,CAAA,EAC3xC,CAAA,CAAA,EAGP4C,EAAQ,gBACL5C,EAAAA,IAACM,EAAO,EAAP,CACG,WAAY,CAAE,MAAO,GAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,KAAMsC,EAAQ,eAAe,WAAW,MAAM,EAAIA,EAAQ,eAAiB,uBAAuBA,EAAQ,cAAc,GACxH,OAAO,SACP,IAAI,sBACJ,MAAO,CAAE,MAAO,SAAA,EAChB,MAAOvE,EAAE,wBAAyB,iBAAiB,EAEnD,SAAA2B,EAAAA,IAACqG,GAAA,CAAQ,KAAM,GAAI,CAAA,CAAA,EAG1BzD,EAAQ,eACL5C,EAAAA,IAACM,EAAO,EAAP,CACG,WAAY,CAAE,MAAO,GAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,KAAMsC,EAAQ,cAAc,WAAW,MAAM,EAAIA,EAAQ,cAAgB,qBAAqBA,EAAQ,aAAa,GACnH,OAAO,SACP,IAAI,sBACJ,MAAO,CAAE,MAAO,SAAA,EAChB,MAAOvE,EAAE,uBAAwB,gBAAgB,EAEjD,SAAA2B,EAAAA,IAACsG,GAAA,CAAO,KAAM,GAAI,CAAA,CAAA,EAGzB1D,EAAQ,gBACL5C,EAAAA,IAACM,EAAO,EAAP,CACG,WAAY,CAAE,MAAO,GAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,KAAMsC,EAAQ,eAAe,WAAW,MAAM,EAAIA,EAAQ,eAAiB,wBAAwBA,EAAQ,cAAc,GACzH,OAAO,SACP,IAAI,sBACJ,MAAO,CAAE,MAAO,SAAA,EAChB,MAAOvE,EAAE,wBAAyB,iBAAiB,EAEnD,SAAA2B,EAAAA,IAACuG,GAAA,CAAQ,KAAM,GAAI,CAAA,CAAA,CACvB,EAER,CAAA,EACJ,CAAA,CAAA,CACJ,CAAA,CACJ,EAGC3D,EAAQ,QAAUA,EAAQ,OAAO,OAAS,GACvC7C,EAAAA,KAAC,MAAA,CAAI,UAAU,eACX,SAAA,CAAAA,OAAC,KAAA,CAAG,SAAA,CAAAC,EAAAA,IAACwG,EAAA,CAAM,KAAM,GAAI,EAAE,IAAEnI,EAAE,gBAAgB,CAAA,EAAE,QAC5C,MAAA,CAAI,UAAU,aAAa,MAAO,CAAE,QAAS,OAAQ,SAAU,OAAQ,IAAK,UACxE,WAAQ,OAAO,IAAKoI,GAA6B,CAC9C,MAAMC,EAAMlC,EAAiB,KAAMd,GAAuBA,EAAE,KAAO+C,CAAO,EAC1E,GAAI,CAACC,EAAK,OAAO,KACjB,MAAMC,EAAOC,GAAYF,EAAI,IAAgC,GAAKF,EAClE,OACIzG,EAAAA,KAACO,EAAO,IAAP,CAEG,WAAY,CAAE,MAAO,IAAK,OAAQ,CAAA,EAClC,MAAO,CACH,QAAS,SACT,WAAY,yBACZ,aAAc,OACd,OAAQ,aAAaoG,EAAI,KAAK,KAC9B,QAAS,OACT,WAAY,SACZ,IAAK,QAAA,EAET,MAAOA,EAAI,YAEV,SAAA,CAAAA,EAAI,UACD1G,EAAAA,IAAC,MAAA,CACG,IAAK0G,EAAI,UACT,IAAKA,EAAI,KACT,MAAO,CAAE,MAAO,SAAU,OAAQ,SAAU,UAAW,SAAA,CAAU,CAAA,EAGrE1G,MAAC2G,EAAA,CAAK,MAAO,CAAE,MAAOD,EAAI,MAAO,SAAU,QAAA,EAAY,EAE3D1G,EAAAA,IAAC,QAAK,MAAO,CAAE,SAAU,SAAU,WAAY,GAAA,EACzC,SAEMoE,EAAK,SAAS,WAAW,IAAI,GAAKsC,EAAI,QAAgBA,EAAI,QACvDrI,EAAE,wBAAwBoI,CAAO,SAAUC,EAAI,IAAI,EAElE,CAAA,CAAA,EA5BKD,CAAA,CA+BjB,CAAC,EACL,CAAA,EACJ,EAIJzG,EAAAA,IAAC,OAAI,UAAU,eAAe,MAAO,CAAE,QAAS,EAAG,WAAY,cAAe,OAAQ,OAAQ,eAAgB,MAAA,EACzG,SAAAA,MAAC9B,IAAY,UAAW0E,EAAQ,GAAA,QAAIzE,CAAA,CAAkB,CAAA,CAC3D,CAAA,EACJ,CAAA,EACJ,EAGA6B,EAAAA,IAAC6G,GAAA,CACG,QAAS9B,EAAM,QACf,KAAMA,EAAM,KACZ,UAAWA,EAAM,QACjB,QAAS,IAAMC,EAAStF,IAAS,CAAE,GAAGA,EAAM,QAAS,IAAQ,CAAA,CAAA,CACjE,EACJ,EAvOiB,IAyOzB"}