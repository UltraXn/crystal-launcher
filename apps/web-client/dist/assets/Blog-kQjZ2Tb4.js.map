{"version":3,"file":"Blog-kQjZ2Tb4.js","sources":["../../src/pages/Blog.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport { Calendar, ArrowRight, Tag } from \"lucide-react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport Section from \"../components/Layout/Section\"\r\nimport { useTranslation } from 'react-i18next'\r\n\r\ninterface Article {\r\n    id: string | number;\r\n    title: string;\r\n    image?: string;\r\n    category: string;\r\n    created_at: string;\r\n    content?: string;\r\n    excerpt?: string;\r\n    status?: string;\r\n    slug?: string;\r\n    title_en?: string;\r\n    content_en?: string;\r\n}\r\n\r\ninterface NewsCardProps {\r\n    article: Article;\r\n}\r\n\r\nconst NewsCard = ({ article }: NewsCardProps) => {\r\n    const { t, i18n } = useTranslation()\r\n    const isEn = i18n.language === 'en'\r\n\r\n    const title = (isEn && article.title_en) ? article.title_en : article.title\r\n    const content = (isEn && article.content_en) ? article.content_en : (article.content || article.excerpt || t('blog.empty'))\r\n\r\n    return (\r\n        <div className=\"group bg-black/40 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden flex flex-col transition-all duration-500 hover:bg-white/5 hover:-translate-y-2 hover:shadow-2xl hover:shadow-(--accent)/10 hover:border-(--accent)/30\">\r\n            <div className=\"relative h-48 w-full overflow-hidden bg-white/5 flex items-center justify-center\">\r\n                {article.image ? (\r\n                    <img src={article.image} alt={title} className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\" />\r\n                ) : (\r\n                    <div className=\"text-6xl opacity-20 group-hover:opacity-40 transition-opacity\">\r\n                        {article.category === 'Evento' ? 'üêâ' : article.category === 'Sistema' ? '‚öôÔ∏è' : '‚öîÔ∏è'}\r\n                    </div>\r\n                )}\r\n                <div className=\"absolute top-4 left-4 flex items-center gap-2 px-3 py-1 bg-black/60 backdrop-blur-md rounded-full border border-white/10 text-[10px] font-black uppercase tracking-widest text-(--accent)\">\r\n                    <Tag size={10} /> {article.category}\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"p-6 flex flex-col gap-4 grow\">\r\n                <div className=\"flex items-center gap-2 text-[10px] font-bold text-gray-500 uppercase tracking-widest\">\r\n                    <Calendar /> {new Date(article.created_at).toLocaleDateString()}\r\n                </div>\r\n                \r\n                <h3 className=\"text-xl font-black text-white group-hover:text-(--accent) transition-colors leading-tight\">\r\n                    {title}\r\n                </h3>\r\n                \r\n                <p className=\"text-gray-400 text-sm leading-relaxed grow font-medium line-clamp-3\">\r\n                    {content.substring(0, 100) + '...'}\r\n                </p>\r\n                \r\n                <Link \r\n                    to={`/forum/thread/news/${article.slug || article.id}`} \r\n                    className=\"inline-flex items-center gap-2 text-xs font-black uppercase tracking-widest text-(--accent) group/link transition-all hover:translate-x-2\"\r\n                >\r\n                    {t('blog.read_more')} \r\n                    <ArrowRight className=\"transition-transform group-hover/link:translate-x-1\" />\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function Blog() {\r\n    const { t } = useTranslation()\r\n    const [news, setNews] = useState<Article[]>([])\r\n    const API_URL = import.meta.env.VITE_API_URL\r\n\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (!API_URL) return\r\n\r\n        fetch(`${API_URL}/news`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (Array.isArray(data)) {\r\n                    // Filtramos publicadas y tomamos las primeras 3\r\n                    const published = data.filter(n => n.status === 'Published').slice(0, 3)\r\n                    setNews(published)\r\n                }\r\n            })\r\n            .catch(err => console.error(\"Error cargando noticias home:\", err))\r\n            .finally(() => setLoading(false))\r\n    }, [API_URL])\r\n\r\n    return (\r\n        <Section title={t('blog.title')}>\r\n            <Section>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 min-h-[200px]\">\r\n                    {loading ? (\r\n                         <div className=\"col-span-full py-20 flex flex-col items-center justify-center gap-4 bg-white/5 border border-dashed border-white/10 rounded-3xl\">\r\n                             <div className=\"w-10 h-10 border-4 border-white/10 border-t-(--accent) rounded-full animate-spin\"></div>\r\n                             <p className=\"text-gray-500 font-bold uppercase tracking-widest text-xs\">{t('blog.loading')}</p>\r\n                         </div>\r\n                    ) : news.length > 0 ? (\r\n                        news.map(article => (\r\n                            <NewsCard key={article.id} article={article} />\r\n                        ))\r\n                    ) : (\r\n                         <div className=\"col-span-full py-20 flex flex-col items-center justify-center gap-6 bg-white/2 border border-white/5 rounded-3xl backdrop-blur-xl\">\r\n                            <Tag size={48} className=\"text-white/10\" />\r\n                            <div className=\"text-center\">\r\n                                <h3 className=\"text-white font-black text-xl mb-2\">{t('blog.no_news')}</h3>\r\n                                <p className=\"text-gray-500 font-medium\">{t('blog.stay_tuned')}</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"text-center mt-12\">\r\n                    <Link to=\"/forum/announcements\" className=\"inline-flex items-center px-10 py-4 bg-white text-black rounded-full font-black uppercase tracking-widest text-sm transition-all hover:bg-(--accent) hover:scale-105 active:scale-95 shadow-xl\">\r\n                        {t('blog.view_all')}\r\n                    </Link>\r\n                </div>\r\n            </Section>\r\n        </Section>\r\n    )\r\n}\r\n"],"names":["NewsCard","article","t","i18n","useTranslation","isEn","title","content","jsxs","jsx","Tag","Calendar","Link","ArrowRight","Blog","news","setNews","useState","API_URL","loading","setLoading","useEffect","res","data","published","n","err","Section"],"mappings":"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"}