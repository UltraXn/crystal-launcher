const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SkinViewer-CnJcHzB8.js","assets/ui-vendor-bChcnJbH.js","assets/react-vendor-C4HomasF.js","assets/three-vendor-3xqboD54.js"])))=>i.map(i=>d[i]);
import{j as e,ay as k,az as j,U as v,Q as b}from"./ui-vendor-bChcnJbH.js";import{aa as y,ab as w,ac as N,g as f,s as u,a8 as _}from"./index-0L0CuJC5.js";import{r as i}from"./react-vendor-C4HomasF.js";import{u as h}from"./utils-vendor-DpehPmnF.js";const C=i.lazy(()=>N(()=>import("./SkinViewer-CnJcHzB8.js"),__vite__mapDeps([0,1,2,3]))),I=s=>{const{slides:d,options:t}=s,[l,o]=y(t,[w({delay:6e3})]),p=i.useCallback(()=>{o&&o.scrollPrev()},[o]),c=i.useCallback(()=>{o&&o.scrollNext()},[o]);return e.jsxs("div",{className:"relative group/carousel px-4 md:px-12",children:[e.jsx("div",{className:"overflow-hidden cursor-grab active:cursor-grabbing",ref:l,children:e.jsx("div",{className:"flex -ml-4 md:-ml-8",children:d.map((a,m)=>e.jsx("div",{className:"flex-[0_0_100%] sm:flex-[0_0_50%] lg:flex-[0_0_33.333%] min-w-0 pl-4 md:pl-8 py-8",children:e.jsxs("div",{className:"relative group bg-[#0a0a0a] border border-white/10 rounded-4xl overflow-hidden transition-all duration-300 hover:border-[--accent] hover:shadow-[0_0_30px_rgba(var(--accent-rgb),0.1)] flex flex-col h-full",children:[e.jsxs("div",{className:"relative w-full aspect-3/4 bg-white/5 overflow-hidden",children:[e.jsx("img",{src:"/images/ui/card-bg.webp",alt:"Background",className:"absolute inset-0 w-full h-full object-cover opacity-20 grayscale transition-all duration-700 group-hover:scale-105 group-hover:grayscale-0 group-hover:opacity-40"}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-[#0a0a0a] to-transparent"}),e.jsx("div",{className:"relative z-10 w-full h-full flex items-end justify-center pb-4",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"text-white/30 text-xs font-bold animate-pulse mb-10",children:"Cargando..."}),children:e.jsx("div",{className:"filter drop-shadow-[0_5px_10px_rgba(0,0,0,0.5)] transition-transform duration-300 group-hover:scale-105 hover:drop-shadow-[0_5px_20px_rgba(var(--accent-rgb),0.4)]",children:e.jsx(C,{skinUrl:a.image,width:220,height:360})})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center p-8 gap-4 bg-[#0a0a0a]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-3xl font-black text-white uppercase tracking-tighter mb-2 group-hover:text-[--accent] transition-colors",children:a.name}),e.jsx("div",{className:"flex justify-center flex-wrap gap-2 opacity-80",children:a.rank})]}),e.jsx("div",{className:"w-12 h-1 bg-white/10 rounded-full group-hover:bg-[--accent] group-hover:w-24 transition-all duration-500"}),e.jsxs("p",{className:"text-gray-400 text-sm font-medium leading-relaxed italic text-center line-clamp-3",children:['"',a.description,'"']})]})]})},m))})}),e.jsx("button",{className:"absolute top-1/2 left-0 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 bg-black/50 backdrop-blur-xl border border-white/10 rounded-full flex items-center justify-center text-white transition-all hover:bg-(--accent) hover:text-black hover:scale-110 hover:border-(--accent) z-30 shadow-2xl -ml-2 md:-ml-6",onClick:p,"aria-label":"Previous slide",children:e.jsx(k,{className:"text-xl md:text-2xl"})}),e.jsx("button",{className:"absolute top-1/2 right-0 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 bg-black/50 backdrop-blur-xl border border-white/10 rounded-full flex items-center justify-center text-white transition-all hover:bg-(--accent) hover:text-black hover:scale-110 hover:border-(--accent) z-30 shadow-2xl -mr-2 md:-mr-6",onClick:c,"aria-label":"Next slide",children:e.jsx(j,{className:"text-xl md:text-2xl"})})]})},E=({kofiId:s="G2G03Y8FL",text:d="Â¡Dona por Ko-Fi!"})=>{const t=i.useRef(null),l=i.useRef(null),o=()=>{l.current&&l.current.kill(),l.current=f.to(t.current,{y:-10,duration:.2,ease:"power2.out",yoyo:!0,repeat:3})},p=()=>{l.current&&l.current.kill(),f.to(t.current,{y:0,duration:.2,ease:"power2.out"})};return e.jsxs("a",{href:`https://ko-fi.com/${s}`,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 mt-6 px-6 py-2 bg-(--accent) text-black font-black uppercase tracking-widest rounded-xl hover:scale-105 transition-transform shadow-lg shadow-(--accent)/20 btn-donate-hero",onMouseEnter:o,onMouseLeave:p,style:{overflow:"visible"},children:[e.jsx("img",{ref:t,src:"https://storage.ko-fi.com/cdn/cup-border.png",alt:"Ko-fi donation icon",style:{height:"20px",width:"auto",display:"block"}}),e.jsx("span",{children:d})]})};function S({mockDonations:s}={}){const[d,t]=i.useState(s||[]),[l,o]=i.useState(!s),{t:p,i18n:c}=h();i.useEffect(()=>{if(s)return;a();const r=u.channel("public:donations").on("postgres_changes",{event:"INSERT",schema:"public",table:"donations"},n=>{t(x=>[n.new,...x])}).subscribe();return()=>{u.removeChannel(r)}},[s]);const a=async()=>{try{const{data:r,error:n}=await u.from("donations").select("*").eq("is_public",!0).order("created_at",{ascending:!1}).limit(20);if(n)throw n;t(r)}catch(r){console.error("Error fetching donations:",r)}finally{o(!1)}};if(l)return e.jsx("div",{style:{textAlign:"center",height:"400px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--muted)"},children:p("donors.loading_donations")});const m=(r,n)=>e.jsxs("div",{className:"donation-card",children:[e.jsxs("div",{className:"donation-header",children:[e.jsxs("div",{className:"donation-user",children:[e.jsx("div",{className:"donation-avatar",children:e.jsx(v,{size:16})}),e.jsxs("div",{className:"donation-info",children:[e.jsx("h4",{children:r.from_name}),e.jsx("span",{className:"donation-date",children:new Date(r.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"donation-amount-badge",children:[e.jsx(b,{size:12}),r.currency," ",r.amount]})]}),r.message&&e.jsxs("div",{className:"donation-message",children:['"',c.language==="en"&&r.message_en?r.message_en:r.message,'"']})]},`${r.id||r.message_id}-${n}`);return e.jsx("div",{className:"donation-feed",children:d.length===0?e.jsx("div",{style:{textAlign:"center",color:"var(--muted)",padding:"2rem",background:"rgba(0,0,0,0.2)",borderRadius:"12px"},children:e.jsx("p",{children:p("donors.no_donations")})}):e.jsxs("div",{className:"donation-scroll-track",children:[d.map((r,n)=>m(r,`A-${n}`)),d.map((r,n)=>m(r,`B-${n}`))]})})}const R="/api",D={loop:!0},g={donador:"/ranks/rank-donador.png",fundador:"/ranks/rank-fundador.png",killu:"/ranks/rank-killu.png",neroferno:"/ranks/rank-neroferno.png",developer:"/ranks/developer.png",admin:"/ranks/admin.png",mod:"/ranks/moderator.png",helper:"/ranks/helper.png",staff:"/ranks/staff.png"};function M(){const{t:s,i18n:d}=h(),t=i.useMemo(()=>[{name:"Killu Bysmali",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-killu.png",alt:s("donors.ranks.killu"),title:s("donors.ranks.killu")})}),image:"/skins/killu.png?v=fixed",description:s("donors.profiles.killu")},{name:"Neroferno Ultranix",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-neroferno.png",alt:s("donors.ranks.neroferno"),title:s("donors.ranks.neroferno")})}),image:"https://minotar.net/skin/344af588-8a7e-4053-9f03-92d68d96b86c",description:s("donors.profiles.neroferno")},{name:"Lawchihuahua",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-fundador.png",alt:s("donors.ranks.fundador"),title:s("donors.ranks.fundador")})}),image:"/skins/law.png",description:s("donors.profiles.law")},{name:"pixiesixer",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-fundador.png",alt:s("donors.ranks.fundador"),title:s("donors.ranks.fundador")})}),image:"https://minotar.net/skin/b47ee72ad3474abe9a081ab32f47153a",description:s("donors.profiles.pixie")},{name:"Zeta",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-fundador.png",alt:s("donors.ranks.fundador"),title:s("donors.ranks.fundador")})}),image:"/skins/zeta.png",description:s("donors.profiles.zeta")},{name:"SendPles",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-fundador.png",alt:s("donors.ranks.fundador"),title:s("donors.ranks.fundador")})}),image:"https://minotar.net/skin/5bec40ab-e459-474b-b96c-21ee1eae7d29",description:s("donors.profiles.sendples")},{name:"ZenXeone",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-donador.png",alt:s("donors.ranks.donador"),title:s("donors.ranks.donador")})}),image:"https://minotar.net/skin/eacfb70c-c83a-4e0b-8465-ee4b0b86e041",description:s("donors.profiles.zen")},{name:"Churly",rank:e.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:[e.jsx("img",{src:"/ranks/rank-donador.png",alt:s("donors.ranks.donador"),title:s("donors.ranks.donador")}),e.jsx("img",{src:"/ranks/developer.png",alt:s("donors.ranks.developer"),title:s("donors.ranks.developer")})]}),image:"/skins/churly.png",description:s("donors.profiles.churly")},{name:"Nana Fubuki",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/ranks/rank-donador.png",alt:s("donors.ranks.donador"),title:s("donors.ranks.donador")})}),image:"/skins/nana-fubuki.png",description:s("donors.profiles.nana")}],[s]),[l,o]=i.useState(t),p=i.useMemo(()=>t.reduce((c,a)=>(c[a.name.toLowerCase()]=a.description,c),{}),[t]);return i.useEffect(()=>{let c=!0;return fetch(`${R}/settings`).then(a=>a.json()).then(a=>{if(c)if(a.donors_list)try{const m=typeof a.donors_list=="string"?JSON.parse(a.donors_list):a.donors_list;if(Array.isArray(m)&&m.length>0){const r=m.map(n=>({name:n.name,image:n.skinUrl||`https://mc-heads.net/avatar/${n.name}/128`,description:p[n.name.toLowerCase()]||(d.language==="en"&&n.description_en?n.description_en:n.description)||"",rank:e.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",alignItems:"center"},children:(n.ranks||[]).map(x=>g[x]?e.jsx("img",{src:g[x],alt:s(`donors.ranks.${x}`),title:s(`donors.ranks.${x}`)},x):null)})}));o(r)}else o(t)}catch(m){console.error("Error parsing dynamic donors",m),o(t)}else o(t)}).catch(a=>{c&&(console.error(a),o(t))}),()=>{c=!1}},[d.language,t,p,s]),e.jsx("div",{className:"pt-24 min-h-screen",children:e.jsxs(_,{title:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("img",{src:"/skins/kiru.png",alt:"icon",className:"h-[1.5em] w-auto animate-pulse"}),e.jsx("span",{className:"uppercase tracking-widest",children:s("donors.title")})]}),children:[e.jsx("div",{className:"max-w-3xl mx-auto mb-16 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:s("donors.intro")})}),e.jsxs("div",{className:"mb-24",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[e.jsx("div",{className:"h-px w-16 bg-linear-to-r from-transparent to-(--accent)"}),e.jsx("h3",{className:"text-2xl font-black uppercase tracking-widest text-white",children:s("donors.latest_title")}),e.jsx("div",{className:"h-px w-16 bg-linear-to-l from-transparent to-(--accent)"})]}),e.jsx(S,{})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-12 flex justify-center w-full",children:e.jsx("div",{className:"transform transition-transform hover:scale-105 active:scale-95",children:e.jsx(E,{text:s("hero.kofi_text")})})}),e.jsx("div",{className:"w-full max-w-[1400px] mx-auto",children:e.jsx(I,{slides:l,options:D})})]})]})})}export{M as default};
//# sourceMappingURL=Donors-DmBWaysN.js.map
