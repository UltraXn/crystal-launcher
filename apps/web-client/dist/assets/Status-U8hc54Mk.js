import{j as e,m,av as y,s as b,A as u,k as j,at as v}from"./ui-vendor-bChcnJbH.js";import{r as g}from"./react-vendor-C4HomasF.js";import{L as N}from"./index-0L0CuJC5.js";import{C as w}from"./confetti.module-Bd1oGXMM.js";import{u as h}from"./utils-vendor-DpehPmnF.js";function S({status:s,serverIp:o="mc.crystaltidesSMP.net"}){var n,f;const{t:r}=h(),[c,t]=g.useState(!1),l=(s==null?void 0:s.online)??!1,d=((n=s==null?void 0:s.players)==null?void 0:n.online)||0,i=((f=s==null?void 0:s.players)==null?void 0:f.max)||0,x=i>0?d/i*100:0,p=(s==null?void 0:s.motd)||"Servidor Minecraft",a=()=>{navigator.clipboard.writeText(o),t(!0),w({particleCount:50,spread:60,origin:{y:.6},colors:["#4ade80","#ffffff"]}),setTimeout(()=>t(!1),2e3)};return e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},style:{background:"rgba(20, 20, 25, 0.6)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"24px",padding:"2rem",marginBottom:"2rem",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"5px",background:l?"var(--success)":"var(--error)",boxShadow:l?"0 0 50px 20px rgba(74, 222, 128, 0.2)":"0 0 50px 20px rgba(239, 68, 68, 0.2)",opacity:.8}}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8 z-10 relative w-full",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"24px",background:"#000",overflow:"hidden",border:l?"2px solid var(--success)":"2px solid var(--error)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:"/images/server_icon.png",alt:"Server Icon",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),e.jsxs("div",{className:"flex-1 text-center md:text-left w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:justify-between gap-4 mb-4 w-full",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold flex flex-wrap justify-center md:justify-start items-center gap-2 md:gap-3",children:[o,e.jsxs("button",{onClick:a,style:{background:c?"var(--success)":"rgba(255,255,255,0.1)",color:"#fff",border:"none",padding:"0.4rem 0.8rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[c?e.jsx(y,{}):e.jsx(b,{}),e.jsx("span",{style:{fontWeight:"bold"},children:r(c?"common.copied":"common.copy")})]})]}),e.jsx("p",{className:"text-gray-400 mt-1",children:p})]}),e.jsx("div",{className:"flex flex-col items-center md:items-end",children:e.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"bold",letterSpacing:"1px",color:l?"var(--success)":"var(--error)",background:l?"rgba(74, 222, 128, 0.1)":"rgba(239, 68, 68, 0.1)",padding:"0.4rem 1rem",borderRadius:"8px",border:l?"1px solid rgba(74, 222, 128, 0.2)":"1px solid rgba(239, 68, 68, 0.2)"},children:r(l?"status.online":"status.offline")})})]}),e.jsx("div",{className:"w-full bg-gray-800 h-4 rounded-full overflow-hidden relative mb-2",children:e.jsx(m.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-linear-to-r from-teal-500 to-emerald-400"})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsxs("span",{children:[r("status.version"),": ",(s==null?void 0:s.version)||"1.21.1"]}),e.jsxs("span",{children:[r("status.players"),": ",e.jsx("strong",{className:"text-white",children:d})," / ",i]})]})]})]})]})}const k="/api";function P(){var p;const[s,o]=g.useState(null),[r,c]=g.useState(!0),{t}=h(),l="mc.crystaltidesSMP.net",d=async()=>{try{const a=await fetch(`${k}/server/status/live`);if(!a.ok)throw new Error(`HTTP Error ${a.status}`);const n=a.headers.get("content-type");if(n&&n.includes("application/json")){const f=await a.json();o(f)}}catch(a){console.error("Error fetching status:",a),o(null)}finally{c(!1)}};if(g.useEffect(()=>{d();const a=setInterval(()=>d(),15e3);return()=>clearInterval(a)},[]),r)return e.jsx("div",{style:{minHeight:"80vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(N,{})});const i=(s==null?void 0:s.online)??!1,x=((p=s==null?void 0:s.players)==null?void 0:p.online)||0;return e.jsxs("div",{className:"page-container",style:{maxWidth:"1000px",margin:"0 auto",padding:"8rem 1rem 2rem"},children:[e.jsxs(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 gradient-text",children:t("status.title")}),e.jsx("p",{className:"text-gray-400",children:t("status.subtitle")})]}),e.jsx(S,{status:s,serverIp:l}),e.jsx(u,{children:i&&e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{style:{background:"rgba(20, 20, 25, 0.4)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px",padding:"1.5rem"},children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(j,{className:"text-accent"})," ",t("status.online_players")]}),s!=null&&s.players.sample&&s.players.sample.length>0?e.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.players.sample.map((a,n)=>e.jsxs("div",{className:"flex items-center gap-2 bg-black/20 px-3 py-2 rounded-lg border border-white/5",children:[e.jsx("img",{src:`https://minotar.net/helm/${a.name}/24.png`,alt:a.name,className:"rounded-sm"}),e.jsx("span",{className:"font-medium text-sm",children:a.name})]},n)),s.players.sample.length<x&&e.jsxs("div",{className:"px-3 py-2 text-gray-500 text-sm italic",children:["+ ",x-s.players.sample.length," ",t("status.more"),"..."]})]}):e.jsx("p",{className:"text-gray-500 italic",children:t(x===0?"status.no_players":"status.list_unavailable")})]}),e.jsxs("div",{style:{background:"rgba(20, 20, 25, 0.4)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"text-blue-400"})," ",t("status.tech_info")]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-black/20",children:[e.jsx("span",{className:"text-gray-400",children:t("status.latency")}),e.jsx("span",{className:`font-mono ${(s==null?void 0:s.latency)!=null?s.latency<=100?"text-green-400":s.latency<200?"text-yellow-400":"text-red-400":"text-gray-400"}`,children:(s==null?void 0:s.latency)!=null?Math.round(s.latency)+"ms":"--"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-black/20 w-full",children:[e.jsx("span",{className:"text-gray-400",children:t("status.mode")}),e.jsx("span",{className:"font-medium text-white",children:t("status.mode_val")})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-black/20 w-full",children:[e.jsx("span",{className:"text-gray-400",children:t("status.platform")}),e.jsx("span",{className:"font-medium text-white",children:t("status.platform_val")})]})]})]})]})}),!i&&!r&&e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center p-8 bg-red-500/10 border border-red-500/20 rounded-xl mt-4",children:[e.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:t("status.offline_title")}),e.jsx("p",{className:"text-gray-400",children:t("status.offline_desc")})]})]})}export{P as default};
//# sourceMappingURL=Status-U8hc54Mk.js.map
