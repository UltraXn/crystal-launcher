{"version":3,"mappings":"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","names":["SkinViewer","lazy","EmblaCarousel","props","slides","options","emblaRef","emblaApi","useEmblaCarousel","Autoplay","scrollPrev","useCallback","scrollNext","jsxs","jsx","donor","index","Suspense","ChevronLeft","ChevronRight","KoFiButton","kofiId","text","iconRef","useRef","animationRef","handleMouseEnter","gsap","handleMouseLeave","DonationFeed","mockDonations","donations","setDonations","useState","loading","setLoading","t","i18n","useTranslation","useEffect","fetchDonations","subscription","supabase","payload","prev","data","error","renderDonationCard","donation","User","Heart","d","i","API_URL","OPTIONS","RANK_IMAGES","Donors","HARDCODED_DONORS","useMemo","finalDonors","setFinalDonors","hardcodedDescs","acc","curr","isMounted","res","parsed","mapped","r","e","err","Section"],"ignoreList":[],"sources":["../../src/components/UI/EmblaCarousel.tsx","../../src/components/Widgets/KoFi.tsx","../../src/components/Widgets/DonationFeed.tsx","../../src/pages/Donors.tsx"],"sourcesContent":["import React, { useCallback, Suspense, lazy } from 'react'\r\nimport useEmblaCarousel from 'embla-carousel-react'\r\nimport Autoplay from 'embla-carousel-autoplay'\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react'\r\n\r\nconst SkinViewer = lazy(() => import('../Widgets/SkinViewer'))\r\n\r\ninterface Slide {\r\n    image: string;\r\n    name: string;\r\n    rank: React.ReactNode;\r\n    description: string;\r\n}\r\n\r\ninterface EmblaCarouselProps {\r\n    slides: Slide[];\r\n    options?: Record<string, unknown>;\r\n}\r\n\r\nconst EmblaCarousel = (props: EmblaCarouselProps) => {\r\n    const { slides, options } = props\r\n    const [emblaRef, emblaApi] = useEmblaCarousel(options, [Autoplay({ delay: 6000 })])\r\n\r\n    const scrollPrev = useCallback(() => {\r\n        if (emblaApi) emblaApi.scrollPrev()\r\n    }, [emblaApi])\r\n\r\n    const scrollNext = useCallback(() => {\r\n        if (emblaApi) emblaApi.scrollNext()\r\n    }, [emblaApi])\r\n\r\n    return (\r\n        <div className=\"relative group/carousel px-4 md:px-12\">\r\n            <div className=\"overflow-hidden cursor-grab active:cursor-grabbing\" ref={emblaRef}>\r\n                <div className=\"flex -ml-4 md:-ml-8\">\r\n                    {slides.map((donor: Slide, index: number) => (\r\n                        <div className=\"flex-[0_0_100%] sm:flex-[0_0_50%] lg:flex-[0_0_33.333%] min-w-0 pl-4 md:pl-8 py-8\" key={index}>\r\n                            <div className=\"relative group bg-[#0a0a0a] border border-white/10 rounded-4xl overflow-hidden transition-all duration-300 hover:border-[--accent] hover:shadow-[0_0_30px_rgba(var(--accent-rgb),0.1)] flex flex-col h-full\">\r\n                                \r\n                                {/* Image Section - Full Bleed */}\r\n                                <div className=\"relative w-full aspect-3/4 bg-white/5 overflow-hidden\">\r\n                                     {/* Background Pattern */}\r\n                                    <img \r\n                                        src=\"/images/ui/card-bg.webp\" \r\n                                        alt=\"Background\" \r\n                                        className=\"absolute inset-0 w-full h-full object-cover opacity-20 grayscale transition-all duration-700 group-hover:scale-105 group-hover:grayscale-0 group-hover:opacity-40\" \r\n                                    />\r\n                                    <div className=\"absolute inset-0 bg-linear-to-t from-[#0a0a0a] to-transparent\" />\r\n                                    \r\n                                    {/* Skin Viewer */}\r\n                                    <div className=\"relative z-10 w-full h-full flex items-end justify-center pb-4\">\r\n                                        <Suspense fallback={\r\n                                            <div className=\"text-white/30 text-xs font-bold animate-pulse mb-10\">\r\n                                                Cargando...\r\n                                            </div>\r\n                                        }>\r\n                                            <div className=\"filter drop-shadow-[0_5px_10px_rgba(0,0,0,0.5)] transition-transform duration-300 group-hover:scale-105 hover:drop-shadow-[0_5px_20px_rgba(var(--accent-rgb),0.4)]\">\r\n                                                <SkinViewer skinUrl={donor.image} width={220} height={360} />\r\n                                            </div>\r\n                                        </Suspense>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Content Section */}\r\n                                <div className=\"flex-1 flex flex-col items-center p-8 gap-4 bg-[#0a0a0a]\">\r\n                                    <div className=\"text-center\">\r\n                                        <h3 className=\"text-3xl font-black text-white uppercase tracking-tighter mb-2 group-hover:text-[--accent] transition-colors\">\r\n                                            {donor.name}\r\n                                        </h3>\r\n                                        <div className=\"flex justify-center flex-wrap gap-2 opacity-80\">\r\n                                            {donor.rank}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Divider */}\r\n                                    <div className=\"w-12 h-1 bg-white/10 rounded-full group-hover:bg-[--accent] group-hover:w-24 transition-all duration-500\"></div>\r\n\r\n                                    <p className=\"text-gray-400 text-sm font-medium leading-relaxed italic text-center line-clamp-3\">\r\n                                        \"{donor.description}\"\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <button \r\n                className=\"absolute top-1/2 left-0 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 bg-black/50 backdrop-blur-xl border border-white/10 rounded-full flex items-center justify-center text-white transition-all hover:bg-(--accent) hover:text-black hover:scale-110 hover:border-(--accent) z-30 shadow-2xl -ml-2 md:-ml-6\" \r\n                onClick={scrollPrev} \r\n                aria-label=\"Previous slide\"\r\n            >\r\n                <ChevronLeft className=\"text-xl md:text-2xl\" />\r\n            </button>\r\n            <button \r\n                className=\"absolute top-1/2 right-0 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 bg-black/50 backdrop-blur-xl border border-white/10 rounded-full flex items-center justify-center text-white transition-all hover:bg-(--accent) hover:text-black hover:scale-110 hover:border-(--accent) z-30 shadow-2xl -mr-2 md:-mr-6\" \r\n                onClick={scrollNext} \r\n                aria-label=\"Next slide\"\r\n            >\r\n                <ChevronRight className=\"text-xl md:text-2xl\" />\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EmblaCarousel\r\n","import { useEffect, useRef } from 'react';\r\nimport { gsap } from 'gsap';\r\n\r\ndeclare global {\r\n    interface Window {\r\n        kofiwidget2: {\r\n            init: (text: string, color: string, id: string) => void;\r\n            draw: () => void;\r\n        };\r\n    }\r\n}\r\n\r\ninterface KoFiWidgetProps {\r\n    kofiId?: string;\r\n    color?: string;\r\n    text?: string;\r\n}\r\n\r\nconst KoFiWidget = ({\r\n    kofiId = \"G2G03Y8FL\",\r\n    color = \"#0C5952\",\r\n    text = \"¡Dona por Ko-Fi!\"\r\n}: KoFiWidgetProps) => {\r\n    useEffect(() => {\r\n        // Load the Ko-Fi script\r\n        const scriptId = 'kofi-widget-script';\r\n        if (document.getElementById(scriptId)) return;\r\n\r\n        const script = document.createElement('script');\r\n        script.id = scriptId;\r\n        script.src = 'https://storage.ko-fi.com/cdn/widget/Widget_2.js';\r\n        script.async = true;\r\n\r\n        script.onload = () => {\r\n            if (window.kofiwidget2) {\r\n                window.kofiwidget2.init(text, color, kofiId);\r\n                window.kofiwidget2.draw();\r\n            }\r\n        };\r\n\r\n        document.body.appendChild(script);\r\n\r\n        return () => {\r\n            // Widget cleanup is manual as noted before\r\n        };\r\n    }, [kofiId, color, text]);\r\n\r\n    return null;\r\n};\r\n\r\ninterface KoFiButtonProps {\r\n    kofiId?: string;\r\n    text?: string;\r\n}\r\n\r\nconst KoFiButton = ({ kofiId = \"G2G03Y8FL\", text = \"¡Dona por Ko-Fi!\" }: KoFiButtonProps) => {\r\n    const iconRef = useRef<HTMLImageElement>(null);\r\n    const animationRef = useRef<gsap.core.Tween | null>(null);\r\n\r\n    const handleMouseEnter = () => {\r\n        if (animationRef.current) animationRef.current.kill();\r\n\r\n        animationRef.current = gsap.to(iconRef.current, {\r\n            y: -10,\r\n            duration: 0.2,\r\n            ease: 'power2.out',\r\n            yoyo: true,\r\n            repeat: 3\r\n        });\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n        if (animationRef.current) animationRef.current.kill();\r\n        \r\n        gsap.to(iconRef.current, {\r\n            y: 0,\r\n            duration: 0.2,\r\n            ease: 'power2.out'\r\n        });\r\n    };\r\n\r\n    return (\r\n        <a\r\n            href={`https://ko-fi.com/${kofiId}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            className='flex items-center gap-2 mt-6 px-6 py-2 bg-(--accent) text-black font-black uppercase tracking-widest rounded-xl hover:scale-105 transition-transform shadow-lg shadow-(--accent)/20 btn-donate-hero'\r\n            onMouseEnter={handleMouseEnter}\r\n            onMouseLeave={handleMouseLeave}\r\n            style={{\r\n                overflow: 'visible' // Ensure jump doesn't get clipped\r\n            }}\r\n        >\r\n            <img\r\n                ref={iconRef}\r\n                src=\"https://storage.ko-fi.com/cdn/cup-border.png\"\r\n                alt=\"Ko-fi donation icon\"\r\n                style={{ height: '20px', width: 'auto', display: 'block' }}\r\n            />\r\n            <span>{text}</span>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport { KoFiWidget, KoFiButton };\r\n","import { useEffect, useState } from 'react'\r\nimport { supabase } from '../../services/supabaseClient'\r\nimport { Heart, User } from 'lucide-react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport '../../donation-feed.css'\r\n\r\ninterface Donation {\r\n    id?: string;\r\n    message_id?: string;\r\n    from_name: string;\r\n    created_at: string;\r\n    currency: string;\r\n    amount: string | number;\r\n    message?: string;\r\n    message_en?: string;\r\n    is_public: boolean;\r\n}\r\n\r\ninterface DonationFeedProps {\r\n    mockDonations?: Donation[];\r\n}\r\n\r\nexport default function DonationFeed({ mockDonations }: DonationFeedProps = {}) {\r\n    const [donations, setDonations] = useState<Donation[]>(mockDonations || [])\r\n    const [loading, setLoading] = useState(!mockDonations)\r\n    const { t, i18n } = useTranslation()\r\n\r\n    useEffect(() => {\r\n        if (mockDonations) return;\r\n        fetchDonations()\r\n\r\n        // Suscribirse a cambios en tiempo real (NUEVAS donaciones aparecen al instante)\r\n        const subscription = supabase\r\n            .channel('public:donations')\r\n            .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'donations' }, (payload: { new: Donation }) => {\r\n                setDonations(prev => [payload.new, ...prev])\r\n            })\r\n            .subscribe()\r\n\r\n        return () => {\r\n            supabase.removeChannel(subscription)\r\n        }\r\n    }, [mockDonations])\r\n\r\n    const fetchDonations = async () => {\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('donations')\r\n                .select('*')\r\n                .eq('is_public', true)\r\n                .order('created_at', { ascending: false })\r\n                .limit(20)\r\n\r\n            if (error) throw error\r\n            setDonations(data)\r\n        } catch (error) {\r\n            console.error('Error fetching donations:', error)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    if (loading) return (\r\n        <div style={{ \r\n            textAlign: 'center', \r\n            height: '400px', \r\n            display: 'flex', \r\n            alignItems: 'center', \r\n            justifyContent: 'center',\r\n            color: 'var(--muted)'\r\n        }}>\r\n            {t('donors.loading_donations')}\r\n        </div>\r\n    )\r\n\r\n    const renderDonationCard = (donation: Donation, index: string | number) => (\r\n        <div className=\"donation-card\" key={`${donation.id || donation.message_id}-${index}`}>\r\n            <div className=\"donation-header\">\r\n                <div className=\"donation-user\">\r\n                    <div className=\"donation-avatar\">\r\n                        <User size={16} />\r\n                    </div>\r\n                    <div className=\"donation-info\">\r\n                        <h4>{donation.from_name}</h4>\r\n                        <span className=\"donation-date\">\r\n                            {new Date(donation.created_at).toLocaleDateString()}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"donation-amount-badge\">\r\n                    <Heart size={12} />\r\n                    {donation.currency} {donation.amount}\r\n                </div>\r\n            </div>\r\n            {donation.message && (\r\n                <div className=\"donation-message\">\r\n                    \"{i18n.language === 'en' && donation.message_en ? donation.message_en : donation.message}\"\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"donation-feed\">\r\n            {donations.length === 0 ? (\r\n                <div style={{ textAlign: 'center', color: 'var(--muted)', padding: '2rem', background: 'rgba(0,0,0,0.2)', borderRadius: '12px' }}>\r\n                    <p>{t('donors.no_donations')}</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"donation-scroll-track\">\r\n                    {/* Renderizamos la lista dos veces para el efecto infinito */}\r\n                    {donations.map((d, i) => renderDonationCard(d, `A-${i}`))}\r\n                    {donations.map((d, i) => renderDonationCard(d, `B-${i}`))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import Section from \"../components/Layout/Section\"\r\nimport EmblaCarousel from \"../components/UI/EmblaCarousel\"\r\nimport { KoFiButton } from \"../components/Widgets/KoFi\"\r\nimport DonationFeed from \"../components/Widgets/DonationFeed\"\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useState, useEffect, useMemo } from 'react'\r\n\r\n\r\nconst API_URL = import.meta.env.VITE_API_URL\r\nconst OPTIONS = { loop: true }\r\n\r\nconst RANK_IMAGES: Record<string, string> = {\r\n    'donador': '/ranks/rank-donador.png',\r\n    'fundador': '/ranks/rank-fundador.png',\r\n    'killu': '/ranks/rank-killu.png',\r\n    'neroferno': '/ranks/rank-neroferno.png',\r\n    'developer': '/ranks/developer.png',\r\n    'admin': '/ranks/admin.png',\r\n    'mod': '/ranks/moderator.png',\r\n    'helper': '/ranks/helper.png',\r\n    'staff': '/ranks/staff.png'\r\n}\r\n\r\ninterface DonorProfile {\r\n    name: string;\r\n    rank: React.ReactNode;\r\n    image: string;\r\n    description: string;\r\n}\r\n\r\nexport default function Donors() {\r\n    const { t, i18n } = useTranslation()\r\n\r\n    const HARDCODED_DONORS: DonorProfile[] = useMemo(() => [\r\n        {\r\n            name: \"Killu Bysmali\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-killu.png\" alt={t('donors.ranks.killu')} title={t('donors.ranks.killu')} />\r\n                  </div>,\r\n            image: \"/skins/killu.png?v=fixed\",\r\n            description: t('donors.profiles.killu')\r\n        },\r\n        {\r\n            name: \"Neroferno Ultranix\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-neroferno.png\" alt={t('donors.ranks.neroferno')} title={t('donors.ranks.neroferno')} />\r\n                  </div>,\r\n            image: \"https://minotar.net/skin/344af588-8a7e-4053-9f03-92d68d96b86c\",\r\n            description: t('donors.profiles.neroferno')\r\n        },\r\n        {\r\n            name: \"Lawchihuahua\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-fundador.png\" alt={t('donors.ranks.fundador')} title={t('donors.ranks.fundador')} />\r\n                  </div>,\r\n            image: \"/skins/law.png\",\r\n            description: t('donors.profiles.law')\r\n        },\r\n        {\r\n            name: \"pixiesixer\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-fundador.png\" alt={t('donors.ranks.fundador')} title={t('donors.ranks.fundador')} />\r\n                  </div>,\r\n            image: \"https://minotar.net/skin/b47ee72ad3474abe9a081ab32f47153a\",\r\n            description: t('donors.profiles.pixie')\r\n        },\r\n        {\r\n            name: \"Zeta\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-fundador.png\" alt={t('donors.ranks.fundador')} title={t('donors.ranks.fundador')} />\r\n                  </div>,\r\n            image: \"/skins/zeta.png\",\r\n            description: t('donors.profiles.zeta')\r\n        },\r\n        {\r\n            name: \"SendPles\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-fundador.png\" alt={t('donors.ranks.fundador')} title={t('donors.ranks.fundador')} />\r\n                  </div>,\r\n            image: \"https://minotar.net/skin/5bec40ab-e459-474b-b96c-21ee1eae7d29\",\r\n            description: t('donors.profiles.sendples')\r\n        },\r\n        {\r\n            name: \"ZenXeone\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-donador.png\" alt={t('donors.ranks.donador')} title={t('donors.ranks.donador')} />\r\n                  </div>,\r\n            image: \"https://minotar.net/skin/eacfb70c-c83a-4e0b-8465-ee4b0b86e041\",\r\n            description: t('donors.profiles.zen')\r\n        },\r\n        {\r\n            name: \"Churly\",\r\n            rank: (\r\n                <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-donador.png\" alt={t('donors.ranks.donador')} title={t('donors.ranks.donador')} />\r\n                    <img src=\"/ranks/developer.png\" alt={t('donors.ranks.developer')} title={t('donors.ranks.developer')} />\r\n                </div>\r\n            ),\r\n            image: \"/skins/churly.png\",\r\n            description: t('donors.profiles.churly')\r\n        },\r\n        {\r\n            name: \"Nana Fubuki\",\r\n            rank: <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <img src=\"/ranks/rank-donador.png\" alt={t('donors.ranks.donador')} title={t('donors.ranks.donador')} />\r\n                  </div>,\r\n            image: \"/skins/nana-fubuki.png\",\r\n            description: t('donors.profiles.nana')\r\n        }\r\n    ], [t]);\r\n\r\n    const [finalDonors, setFinalDonors] = useState<DonorProfile[]>(HARDCODED_DONORS)\r\n\r\n    const hardcodedDescs = useMemo(() => {\r\n        return HARDCODED_DONORS.reduce((acc, curr) => {\r\n            acc[curr.name.toLowerCase()] = curr.description\r\n            return acc\r\n        }, {} as Record<string, string>)\r\n    }, [HARDCODED_DONORS])\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        fetch(`${API_URL}/settings`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (!isMounted) return;\r\n                if (data.donors_list) {\r\n                    try {\r\n                        const parsed = typeof data.donors_list === 'string' ? JSON.parse(data.donors_list) : data.donors_list\r\n                        if (Array.isArray(parsed) && parsed.length > 0) {\r\n                            const mapped = parsed.map((d: { name: string; skinUrl?: string; description?: string; description_en?: string; ranks?: string[] }) => ({\r\n                                name: d.name,\r\n                                image: d.skinUrl || `https://mc-heads.net/avatar/${d.name}/128`,\r\n                                description: hardcodedDescs[d.name.toLowerCase()] || ((i18n.language === 'en' && d.description_en) ? d.description_en : d.description) || \"\",\r\n                                rank: (\r\n                                   <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center', alignItems: 'center' }}>\r\n                                       {(d.ranks || []).map((r: string) => (\r\n                                           RANK_IMAGES[r] ? <img key={r} src={RANK_IMAGES[r]} alt={t(`donors.ranks.${r}`)} title={t(`donors.ranks.${r}`)} /> : null\r\n                                       ))}\r\n                                   </div>\r\n                                )\r\n                            }))\r\n                            setFinalDonors(mapped)\r\n                        } else {\r\n                            setFinalDonors(HARDCODED_DONORS)\r\n                        }\r\n                    } catch (e) {\r\n                         console.error(\"Error parsing dynamic donors\", e)\r\n                         setFinalDonors(HARDCODED_DONORS)\r\n                    }\r\n                } else {\r\n                    setFinalDonors(HARDCODED_DONORS)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                if (!isMounted) return;\r\n                console.error(err)\r\n                setFinalDonors(HARDCODED_DONORS)\r\n            })\r\n        \r\n        return () => { isMounted = false; };\r\n    }, [i18n.language, HARDCODED_DONORS, hardcodedDescs, t])\r\n\r\n    return (\r\n        <div className=\"pt-24 min-h-screen\">\r\n            <Section title={\r\n                <div className=\"flex items-center justify-center gap-3\">\r\n                    <img src=\"/skins/kiru.png\" alt=\"icon\" className=\"h-[1.5em] w-auto animate-pulse\" /> \r\n                    <span className=\"uppercase tracking-widest\">{t('donors.title')}</span>\r\n                </div>\r\n            }>\r\n                {/* Intro */}\r\n                <div className=\"max-w-3xl mx-auto mb-16 text-center\">\r\n                    <p className=\"text-gray-400 text-lg leading-relaxed\">{t('donors.intro')}</p>\r\n                </div>\r\n\r\n                {/* Latest Donations */}\r\n                <div className=\"mb-24\">\r\n                    <div className=\"flex items-center justify-center gap-4 mb-8\">\r\n                        <div className=\"h-px w-16 bg-linear-to-r from-transparent to-(--accent)\"></div>\r\n                        <h3 className=\"text-2xl font-black uppercase tracking-widest text-white\">{t('donors.latest_title')}</h3>\r\n                        <div className=\"h-px w-16 bg-linear-to-l from-transparent to-(--accent)\"></div>\r\n                    </div>\r\n                    <DonationFeed />\r\n                </div>\r\n\r\n                {/* Carousel Section */}\r\n                <div className=\"relative\">\r\n                    <div className=\"mb-12 flex justify-center w-full\">\r\n                        <div className=\"transform transition-transform hover:scale-105 active:scale-95\">\r\n                            <KoFiButton text={t('hero.kofi_text')} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"w-full max-w-[1400px] mx-auto\">\r\n                        <EmblaCarousel slides={finalDonors} options={OPTIONS} />\r\n                    </div>\r\n                </div>\r\n            </Section>\r\n        </div>\r\n    )\r\n}\r\n"],"file":"assets/Donors-DmBWaysN.js"}