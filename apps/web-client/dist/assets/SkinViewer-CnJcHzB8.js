import{j as l}from"./ui-vendor-bChcnJbH.js";import{r as n}from"./react-vendor-C4HomasF.js";import{am as d,I as f,W as m}from"./three-vendor-3xqboD54.js";const R=({skinUrl:c,width:r=300,height:t=400})=>{const[i,p]=n.useState(!1),s=n.useRef(null),o=n.useRef(null),u=n.useRef(null);return n.useEffect(()=>{const e=new IntersectionObserver(([a])=>{p(a.isIntersecting)},{rootMargin:"100px 0px"});return s.current&&e.observe(s.current),()=>{e.disconnect()}},[]),n.useEffect(()=>{if(!i||!o.current)return;let e=null;try{e=new d({canvas:o.current,width:r,height:t,skin:c}),typeof f<"u"?(e.animation=new f,e.animation.paused=!0):typeof m<"u"&&(e.animation=new m,e.animation.paused=!0),e.controls.enableZoom=!0,e.camera.position.z=60,e.controls.target.y=5,u.current=e}catch(a){console.error("Failed to initialize SkinViewer",a)}return()=>{e&&(e.dispose(),u.current=null)}},[i,c,r,t]),l.jsx("div",{ref:s,className:"skin-viewer-container",style:{width:r,height:t,position:"relative",zIndex:2},children:i&&l.jsx("canvas",{ref:o,style:{width:"100%",height:"100%"}})})};export{R as default};
//# sourceMappingURL=SkinViewer-CnJcHzB8.js.map
