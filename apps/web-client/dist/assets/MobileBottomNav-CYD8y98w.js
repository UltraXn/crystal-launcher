import{j as e,H as j,bq as y,V as k,d as N,a7 as S,bg as _,X as L}from"./ui-vendor-bChcnJbH.js";import{e as E,r as x,L as i}from"./react-vendor-C4HomasF.js";import{u as w,i as C,a as R,g as d}from"./index-0L0CuJC5.js";import{u as v}from"./utils-vendor-DpehPmnF.js";function P(){var m,p,b,f;const{t:r}=v(),{user:a}=w(),t=E(),[n,u]=x.useState(!1),o=C(a),c=a?((m=a.user_metadata)==null?void 0:m.avatar_preference)==="social"&&((p=a.user_metadata)!=null&&p.avatar_url)?a.user_metadata.avatar_url:`https://mc-heads.net/avatar/${((b=a.user_metadata)==null?void 0:b.minecraft_nick)||((f=a.user_metadata)==null?void 0:f.username)||"Steve"}/128`:null,l=a?"/account":"/login",{toggleSidebar:h}=R(),s=t.pathname.startsWith("/account");return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-[#0a0a0a]/90 backdrop-blur-2xl border-t border-white/5 pb-safe z-150 lg:hidden animate-slide-up",children:e.jsxs("div",{className:"flex items-center justify-around h-20 px-2 pb-2",children:[e.jsx(g,{to:"/",icon:e.jsx(j,{size:20}),label:r("common.home","Inicio"),active:t.pathname==="/"}),e.jsx(g,{to:"/#donors",icon:e.jsx(y,{size:20}),label:r("navbar.donors","Tienda"),active:t.hash==="#donors"}),e.jsxs("div",{className:"relative -top-6 flex flex-col items-center justify-center",children:[a?e.jsx(i,{to:l,className:"flex items-center justify-center w-16 h-16 rounded-full border-4 border-[#0a0a0a] bg-[#0a0a0a] shadow-xl overflow-hidden group transition-all active:scale-95",children:e.jsx("img",{src:c,alt:"Profile",className:"w-full h-full object-cover group-hover:brightness-110 transition-all"})}):e.jsx(i,{to:"/status",className:"flex items-center justify-center w-14 h-14 bg-(--accent) rounded-full shadow-[0_0_20px_var(--accent-color)] text-black animate-pulse-slow border-4 border-[#0a0a0a]",children:e.jsx(k,{size:24})}),s&&a&&e.jsx("button",{onClick:h,className:"absolute top-18 text-[9px] font-black uppercase tracking-widest text-(--accent) bg-black/50 px-2 py-0.5 rounded-full backdrop-blur-md border border-white/10",children:r("navbar.account_menu","Cuenta")})]}),o?e.jsx(g,{to:"/admin",icon:e.jsx(N,{size:20}),label:"Admin",active:t.pathname==="/admin"}):e.jsx(g,{to:"/forum",icon:e.jsx(S,{size:20}),label:r("footer.forum","Foro"),active:t.pathname==="/forum"}),e.jsxs("button",{onClick:()=>u(!0),className:`flex flex-col items-center justify-center gap-1 w-16 py-2 rounded-xl transition-all ${n?"text-(--accent)":"text-gray-500"}`,children:[e.jsx(_,{size:20}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest mt-1.5",children:"Menú"})]})]})}),e.jsx(z,{isOpen:n,onClose:()=>u(!1)})]})}function g({to:r,icon:a,label:t,active:n}){return e.jsxs(i,{to:r,className:`flex flex-col items-center justify-center gap-1 w-16 py-2 rounded-xl transition-all ${n?"text-(--accent)":"text-gray-500 active:scale-95"}`,children:[a,e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest mt-1.5",children:t})]})}function z({isOpen:r,onClose:a}){const{t,i18n:n}=v(),{user:u}=w(),o=x.useRef(null),c=x.useRef(null),l=x.useRef([]);x.useEffect(()=>{r?(document.body.style.overflow="hidden",d.to(o.current,{opacity:1,duration:.4,display:"block"}),d.fromTo(c.current,{x:"100%"},{x:"0%",duration:.6,ease:"power4.out"}),l.current.length>0&&d.fromTo(l.current,{x:50,opacity:0},{x:0,opacity:1,stagger:.05,duration:.5,delay:.2,ease:"power3.out"})):(document.body.style.overflow="",d.to(c.current,{x:"100%",duration:.4,ease:"power4.in"}),d.to(o.current,{opacity:0,duration:.4,display:"none",delay:.2}))},[r]);const h=s=>{s&&!l.current.includes(s)&&l.current.push(s)};return e.jsx("div",{ref:o,className:"fixed inset-0 bg-[#060606]/98 backdrop-blur-2xl z-200 hidden opacity-0 overflow-hidden",children:e.jsxs("div",{ref:c,className:"w-full h-full flex flex-col",children:[e.jsxs("div",{className:"h-20 px-8 flex items-center justify-between border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/images/ui/logo.webp",alt:"Logo",className:"w-8 h-8 object-contain"}),e.jsxs("span",{className:"text-xl font-black uppercase tracking-tighter text-white",children:["Crystal",e.jsx("span",{className:"text-(--accent)",children:"Tides"})]})]}),e.jsx("button",{onClick:a,className:"w-11 h-11 flex items-center justify-center bg-white/5 border border-white/5 rounded-xl text-white hover:bg-white/10 active:scale-90 transition-all shadow-lg",children:e.jsx(L,{size:20})})]}),e.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)] overflow-y-auto px-8 py-10",children:[e.jsx("nav",{className:"flex flex-col gap-2 mb-12",children:[{to:"/#rules",label:t("navbar.rules")},{to:"/#donors",label:t("navbar.donors"),highlight:!0},{to:"/#news",label:t("navbar.news")},{to:"/#suggestions",label:t("navbar.suggestions")},{to:"/forum",label:t("navbar.forum")},{to:"/wiki",label:t("navbar.wiki","Guía")},{to:"/support",label:t("navbar.support","Soporte")},{to:"/map",label:t("footer.online_map")}].map((s,m)=>e.jsxs(i,{to:s.to,className:`flex items-center justify-between px-6 py-5 rounded-3xl transition-all group ${s.highlight?"bg-(--accent) text-black shadow-2xl shadow-(--accent)/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,onClick:a,ref:h,children:[e.jsx("span",{className:`text-2xl font-black uppercase tracking-widest ${s.highlight?"text-black":"text-white/80 group-hover:text-white"}`,children:s.label}),e.jsx("div",{className:`w-8 h-px transition-all duration-500 origin-right group-hover:scale-x-150 ${s.highlight?"bg-black":"bg-white/20 group-hover:bg-(--accent)"}`})]},m))}),e.jsxs("div",{className:"mt-auto space-y-8",ref:h,children:[e.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-2 rounded-2xl border border-white/5",children:[e.jsxs("button",{onClick:()=>n.changeLanguage("es"),className:`flex-1 flex items-center justify-center gap-3 py-4 rounded-xl text-xs font-black tracking-widest transition-all ${n.resolvedLanguage==="es"?"bg-white text-black shadow-xl ring-4 ring-white/10":"text-gray-500 hover:text-white"}`,children:[e.jsx("img",{src:"/images/flags/es.svg",alt:"ES",className:"w-5 h-auto rounded-sm"}),"ESPAÑOL"]}),e.jsxs("button",{onClick:()=>n.changeLanguage("en"),className:`flex-1 flex items-center justify-center gap-3 py-4 rounded-xl text-xs font-black tracking-widest transition-all ${n.resolvedLanguage==="en"?"bg-white text-black shadow-xl ring-4 ring-white/10":"text-gray-500 hover:text-white"}`,children:[e.jsx("img",{src:"/images/flags/us.svg",alt:"EN",className:"w-5 h-auto rounded-sm"}),"ENGLISH"]})]}),!u&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{to:"/login",className:"py-5 text-center text-xs font-black uppercase tracking-widest text-white bg-white/5 border border-white/10 rounded-2xl active:scale-95 transition-all",onClick:a,children:t("navbar.login")}),e.jsx(i,{to:"/register",className:"py-5 text-center text-xs font-black uppercase tracking-widest text-black bg-white rounded-2xl active:scale-95 transition-all shadow-[0_10px_30px_rgba(255,255,255,0.1)]",onClick:a,children:t("navbar.register")})]}),e.jsx("div",{className:"pt-8 text-center pb-10",children:e.jsx("p",{className:"text-[10px] font-black text-gray-700 uppercase tracking-[0.3em] italic",children:"CRYSTALTIDES SMP — EXPLORE THE ABYSS"})})]})]})]})})}export{P as default};
//# sourceMappingURL=MobileBottomNav-CYD8y98w.js.map
