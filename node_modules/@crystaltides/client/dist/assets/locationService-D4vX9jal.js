const c="/api",p=async()=>{try{const a=await fetch(`${c}/locations`);if(!a.ok)throw new Error("Failed to fetch locations");const r=a.headers.get("content-type");if(r&&r.includes("application/json")){const t=await a.json();return t.success?t.data:[]}return[]}catch(a){throw a}},l=async(a,r)=>{var e;const t=await fetch(`${c}/locations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(a)}),n=t.headers.get("content-type");let o;if(n&&n.includes("application/json"))o=await t.json();else{const s=await t.text();throw new Error(s||`Error ${t.status}`)}if(!t.ok)throw new Error(((e=o==null?void 0:o.error)==null?void 0:e.message)||(o==null?void 0:o.message)||"Failed to create location");return o.data},d=async(a,r,t)=>{var s;const n=await fetch(`${c}/locations/${a}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)}),o=n.headers.get("content-type");let e;if(o&&o.includes("application/json"))e=await n.json();else{const i=await n.text();throw new Error(i||`Error ${n.status}`)}if(!n.ok)throw new Error(((s=e==null?void 0:e.error)==null?void 0:s.message)||(e==null?void 0:e.message)||"Failed to update location");return e.data},h=async(a,r)=>{var n;const t=await fetch(`${c}/locations/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}});if(!t.ok){const o=t.headers.get("content-type");if(o&&o.includes("application/json")){const e=await t.json();throw new Error(((n=e.error)==null?void 0:n.message)||e.message||"Failed to delete location")}else{const e=await t.text();throw new Error(e||`Error ${t.status}`)}}};export{l as c,h as d,p as g,d as u};
//# sourceMappingURL=locationService-D4vX9jal.js.map
