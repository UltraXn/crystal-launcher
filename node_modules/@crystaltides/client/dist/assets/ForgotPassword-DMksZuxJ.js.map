{"version":3,"file":"ForgotPassword-DMksZuxJ.js","sources":["../../src/pages/ForgotPassword.tsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { Mail } from 'lucide-react'\r\nimport { Link } from 'react-router-dom'\r\nimport { supabase } from '../services/supabaseClient'\r\n\r\nexport default function ForgotPassword() {\r\n    const [email, setEmail] = useState('')\r\n    const [status, setStatus] = useState('idle') // idle, loading, success, error\r\n    const [message, setMessage] = useState('')\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setStatus('loading')\r\n        setMessage('')\r\n\r\n        try {\r\n            const { error } = await supabase.auth.resetPasswordForEmail(email, {\r\n                redirectTo: window.location.origin + '/account', // Redirect to account page where they can change password\r\n            })\r\n            if (error) throw error\r\n            setStatus('success')\r\n            setMessage(\"Se ha enviado un correo de recuperación. Revisa tu bandeja de entrada.\")\r\n        } catch (error: unknown) {\r\n            console.error(error)\r\n            setStatus('error')\r\n            const msg = error instanceof Error ? error.message : String(error);\r\n            setMessage(msg || \"Error al enviar el correo.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"account-page\">\r\n            <div className=\"account-container\">\r\n                <div className=\"account-card animate-pop-up\">\r\n                    <div className=\"account-header\">\r\n                        <h2>Recuperar Contraseña</h2>\r\n                        <p>Introduce tu correo para recibir un enlace de recuperación.</p>\r\n                    </div>\r\n\r\n                    {status === 'success' ? (\r\n                         <div style={{ textAlign: 'center', padding: '1rem', background: 'rgba(46, 204, 113, 0.1)', borderRadius: '8px', border: '1px solid #2ecc71', color: '#2ecc71' }}>\r\n                            <p>{message}</p>\r\n                            <Link to=\"/login\" className=\"btn-primary\" style={{ marginTop: '1rem', display: 'inline-block', textDecoration:'none', color:'white', background:'var(--accent)', padding:'0.5rem 1rem', borderRadius:'6px' }}>Volver al Login</Link>\r\n                         </div>\r\n                    ) : (\r\n                        <form className=\"account-form\" onSubmit={handleSubmit}>\r\n                            {status === 'error' && (\r\n                                <div className=\"error-message\" style={{ color: '#ff6b6b', background: 'rgba(255, 107, 107, 0.1)', padding: '0.75rem', borderRadius: '8px', marginBottom: '1.5rem', textAlign: 'center' }}>\r\n                                    {message}\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"form-group\">\r\n                                <label><Mail size={16} /> Correo Electrónico</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    placeholder=\"correo@ejemplo.com\"\r\n                                    required\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    disabled={status === 'loading'}\r\n                                />\r\n                            </div>\r\n\r\n                            <button type=\"submit\" className=\"btn-submit\" disabled={status === 'loading'}>\r\n                                {status === 'loading' ? 'Enviando...' : 'Enviar Enlace'}\r\n                            </button>\r\n                        </form>\r\n                    )}\r\n\r\n                    <div className=\"account-footer\">\r\n                        <Link to=\"/login\" className=\"back-link\">← Cancelar y volver</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":["ForgotPassword","email","setEmail","useState","status","setStatus","message","setMessage","handleSubmit","e","error","supabase","msg","jsx","jsxs","Link","Mail"],"mappings":"oLAKA,SAAwBA,GAAiB,CACrC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAQC,CAAS,EAAIF,EAAAA,SAAS,MAAM,EACrC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAE,EAEnCK,EAAe,MAAOC,GAAuB,CAC/CA,EAAE,eAAA,EACFJ,EAAU,SAAS,EACnBE,EAAW,EAAE,EAEb,GAAI,CACA,KAAM,CAAE,MAAAG,CAAA,EAAU,MAAMC,EAAS,KAAK,sBAAsBV,EAAO,CAC/D,WAAY,OAAO,SAAS,OAAS,UAAA,CACxC,EACD,GAAIS,EAAO,MAAMA,EACjBL,EAAU,SAAS,EACnBE,EAAW,wEAAwE,CACvF,OAASG,EAAgB,CACrB,QAAQ,MAAMA,CAAK,EACnBL,EAAU,OAAO,EACjB,MAAMO,EAAMF,aAAiB,MAAQA,EAAM,QAAU,OAAOA,CAAK,EACjEH,EAAWK,GAAO,4BAA4B,CAClD,CACJ,EAEA,OACIC,EAAAA,IAAC,MAAA,CAAI,UAAU,eACX,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oBACX,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACX,SAAA,CAAAD,EAAAA,IAAC,MAAG,SAAA,sBAAA,CAAoB,EACxBA,EAAAA,IAAC,KAAE,SAAA,6DAAA,CAA2D,CAAA,EAClE,EAECT,IAAW,UACPU,EAAAA,KAAC,OAAI,MAAO,CAAE,UAAW,SAAU,QAAS,OAAQ,WAAY,0BAA2B,aAAc,MAAO,OAAQ,oBAAqB,MAAO,WACjJ,SAAA,CAAAD,EAAAA,IAAC,KAAG,SAAAP,CAAA,CAAQ,EACZO,EAAAA,IAACE,GAAK,GAAG,SAAS,UAAU,cAAc,MAAO,CAAE,UAAW,OAAQ,QAAS,eAAgB,eAAe,OAAQ,MAAM,QAAS,WAAW,gBAAiB,QAAQ,cAAe,aAAa,OAAS,SAAA,iBAAA,CAAe,CAAA,EAChO,EAEDD,EAAAA,KAAC,OAAA,CAAK,UAAU,eAAe,SAAUN,EACpC,SAAA,CAAAJ,IAAW,eACP,MAAA,CAAI,UAAU,gBAAgB,MAAO,CAAE,MAAO,UAAW,WAAY,2BAA4B,QAAS,UAAW,aAAc,MAAO,aAAc,SAAU,UAAW,QAAA,EACzK,SAAAE,CAAA,CACL,EAGJQ,EAAAA,KAAC,MAAA,CAAI,UAAU,aACX,SAAA,CAAAA,OAAC,QAAA,CAAM,SAAA,CAAAD,EAAAA,IAACG,EAAA,CAAK,KAAM,EAAA,CAAI,EAAE,qBAAA,EAAmB,EAC5CH,EAAAA,IAAC,QAAA,CACG,KAAK,QACL,YAAY,qBACZ,SAAQ,GACR,MAAOZ,EACP,SAAWQ,GAAMP,EAASO,EAAE,OAAO,KAAK,EACxC,SAAUL,IAAW,SAAA,CAAA,CACzB,EACJ,EAEAS,EAAAA,IAAC,SAAA,CAAO,KAAK,SAAS,UAAU,aAAa,SAAUT,IAAW,UAC7D,SAAAA,IAAW,UAAY,cAAgB,eAAA,CAC5C,CAAA,EACJ,EAGJS,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACX,SAAAA,EAAAA,IAACE,EAAA,CAAK,GAAG,SAAS,UAAU,YAAY,SAAA,qBAAA,CAAmB,CAAA,CAC/D,CAAA,CAAA,CACJ,EACJ,EACJ,CAER"}